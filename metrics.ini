# 01 #
[Global]
FallbackTheme=_fallback
ShowCreditDisplay=false

[Common]
FirstAttractScreen="ScreenInit"
AutoSetStyle=true
DefaultModifiers="2x"
DefaultNoteSkinName="clover"
ShowCreditDisplay=false
NoteSkinsToHide="default"

[CustomRIO]
###       THEME:GetMetric("metricsgroup","metric")   ###
###   ex: THEME:GetMetric("CustomRIO","DoDebug")     ###
;  with this, we can easily activate or deactivate
;  debug functions written in theme luas. -NeobeatIKK

#Number of songs required per level.
NumSongsToLevelUp=4
MaxLevel=100


#Alisson Mods
# Some kind of a "God mode", where devs can access features didnt availables in arcade  mode.
# Also shows debugging information.
DevMode=false
#This isn't used anymore but SM keeps complaining about it being missing and I can't figure out why
DoDebug=false
#Unknown function
GamePlayMenu=false
RoutineNumberPlayers=4

# NotDebug for ScreenInformation use
NotDebug=true
# LockSongs default value is: true
LockSongs=true


#RIO Build start

# 02 #
[LightsManager]

[ProfileManager]

[SongManager]
NumSongGroupColors=1
#
SongGroupColor1=BoostColor(Color("White"),1.25)

CourseGroupColor1=color("1,1,1,1")

[UnlockManager]

# 03 #
[ArrowEffects]

[Background]

[Banner]

[BPMDisplay]
SetNoBpmCommand=stoptweening;stopeffect;maxwidth,128;linear,0.2;diffuse,Color("White");diffusebottomedge,BoostColor(Color("White"),0.875);
SetNormalCommand=stoptweening;stopeffect;maxwidth,128;linear,0.2;diffuse,Color("White");diffusebottomedge,BoostColor(Color("White"),0.875);
SetChangeCommand=stoptweening;stopeffect;maxwidth,128;linear,0.2;diffuse,Color("White");diffusebottomedge,BoostColor(Color("White"),0.875);
SetRandomCommand=stoptweening;maxwidth,128;linear,0.2;diffuse,color("Green");textglowmode,'TextGlowMode_Inner';glowshift;effectcolor1,color("1,1,1,0.05");effectcolor2,color("1,1,1,0.325");
SetExtraCommand=stoptweening;maxwidth,128;linear,0.2;diffuse,Color("Red");diffusebottomedge,BoostColor(Color("Red"),0.5);diffuseshift;effectcolor1,color("1,1,1,1");effectcolor2,color("0.475,0.475,0.475,1");
RandomCycleSpeed=0.2		--  smaller numbers mean the bpm cycles faster

[CodeDetector]
# For Future Reference:
# @ = Holding
# - = In Conjuction With / Then
# ~ = Released
# + = At The Same Time

PrevSteps1=""
NextSteps1=""
CloseCurrentFolder="Left,Right,Left,Right,Start"
NextSort1=""
NextSort2=""
NextSort3=""
NextSort4=""
ModeMenu1=""
ModeMenu2=""
Mirror=""
Left=""
Right=""
Shuffle=""
SuperShuffle=""
NextTransform=""
NextScrollSpeed=""
PreviousScrollSpeed=""
NextAccel=""
NextEffect=""
NextAppearance=""
NextTurn=""
Reverse=""
HoldNotes=""
Mines=""
Dark="Up,Up,Up,Up,Start"
CancelAll="Left+Right,Left+Right,Left+Right"
NextGroup=""
PrevGroup=""
Hidden=""
RandomVanish=""

[CodeDetectorOnline]

[CombinedLifeMeterTug]
# We don't use it.
MeterWidth=512-8
MeterHeight=40

[Combo]
ShowComboAt=4

LabelMinZoom=0.5
LabelMaxZoom=0.5

PulseCommand=finishtweening;diffusealpha,1;zoom,0.25;zoom,.3;addy,2;sleep,0.01;linear,0.02;addy,-2;sleep,0.495;linear,0.2;diffusealpha,0
PulseLabelCommand=finishtweening;diffusealpha,1;zoom,0.5;zoom,.6;addy,2;sleep,0.01;linear,0.02;addy,-2;sleep,0.495;linear,0.2;diffusealpha,0
NumberOnCommand=y,45;x,-10;zoom,0.25;vertalign,bottom;skewx,-0.125;sleep,0.495;linear,0.25;diffusealpha,0

ComboLabelOnCommand=x,-10;y,-27;diffusealpha,1;zoomx,0.3;zoomy,0.4;linear,0.05;zoomx,0.3;zoomy,0.3;
ComboLabelOffCommand=sleep,0.495;linear,0.25;diffusealpha,0
MissLabelOnCommand=x,-10;y,-27;diffusealpha,1;zoomx,0.3;zoomy,0.4;linear,0.05;zoomx,0.3;zoomy,0.3;
MissLabelOffCommand=sleep,0.495;linear,0.25;diffusealpha,0

[HoldJudgment]
HoldJudgmentLetGoCommand=visible,false
HoldJudgmentHeldCommand=visible,false

[HelpDisplay]
TipShowTime=7

[Judgment]
JudgmentW1Command=diffusealpha,1;zoomx,0.4;zoomy,0.45;linear,0.05;zoomx,0.4;zoomy,0.4;sleep,0.495;linear,0.25;diffusealpha,0
JudgmentW2Command=diffusealpha,1;zoomx,0.4;zoomy,0.45;linear,0.05;zoomx,0.4;zoomy,0.4;sleep,0.495;linear,0.25;diffusealpha,0
JudgmentW3Command=diffusealpha,1;zoomx,0.4;zoomy,0.45;linear,0.05;zoomx,0.4;zoomy,0.4;sleep,0.495;linear,0.25;diffusealpha,0
JudgmentW4Command=diffusealpha,1;zoomx,0.4;zoomy,0.45;linear,0.05;zoomx,0.4;zoomy,0.4;sleep,0.495;linear,0.25;diffusealpha,0
JudgmentW5Command=diffusealpha,1;zoomx,0.4;zoomy,0.45;linear,0.05;zoomx,0.4;zoomy,0.4;sleep,0.495;linear,0.25;diffusealpha,0
JudgmentMissCommand=diffusealpha,1;zoomx,0.4;zoomy,0.45;linear,0.05;zoomx,0.4;zoomy,0.4;sleep,0.495;linear,0.25;diffusealpha,0
# Late/Early 
#OffsetOnCommand=
#OffsetLateCommand=
#OffsetEarlyCommand=

[Protiming]
ProtimingOnCommand=shadowlength,1;horizalign,right;x,30;strokecolor,Color("Outline");skewx,-0.125;textglowmode,"TextGlowMode_Inner";
AverageOnCommand=shadowlength,1;horizalign,left;x,32;y,8;zoom,0.75;diffuse,ColorLightTone( Color("Green") );strokecolor,Color("Outline");skewx,-0.125;textglowmode,"TextGlowMode_Inner";
TextOnCommand=shadowlength,1;horizalign,left;x,32;y,-6;zoom,0.5;strokecolor,Color("Outline");skewx,-0.125;textglowmode,"TextGlowMode_Inner";
#
ProtimingW1Command=finishtweening;diffuse,Color("White");zoom,1.15;glow,Color("White");linear,0.05;zoom,1;glow,Color("Invisible");diffuse,GameColor.Judgment["JudgmentLine_W1"];sleep,2;linear,0.5;diffuse,Color("Invisible");
ProtimingW2Command=finishtweening;diffuse,Color("White");zoom,1.15;glow,Color("White");linear,0.05;zoom,1;glow,Color("Invisible");diffuse,GameColor.Judgment["JudgmentLine_W2"];sleep,2;linear,0.5;diffuse,Color("Invisible");
ProtimingW3Command=finishtweening;diffuse,Color("White");zoom,1.15;glow,Color("White");linear,0.05;zoom,1;glow,Color("Invisible");diffuse,GameColor.Judgment["JudgmentLine_W3"];sleep,2;linear,0.5;diffuse,Color("Invisible");
ProtimingW4Command=finishtweening;diffuse,Color("White");zoom,1.15;glow,Color("White");linear,0.05;zoom,1;glow,Color("Invisible");diffuse,GameColor.Judgment["JudgmentLine_W4"];sleep,2;linear,0.5;diffuse,Color("Invisible");
ProtimingW5Command=finishtweening;diffuse,Color("White");zoom,1.15;glow,Color("White");linear,0.05;zoom,1;glow,Color("Invisible");diffuse,GameColor.Judgment["JudgmentLine_W5"];sleep,2;linear,0.5;diffuse,Color("Invisible");
ProtimingMissCommand=finishtweening;diffusealpha,1;zoom,1.15;glow,GameColor.Judgment["JudgmentLine_Miss"];linear,0.05;zoom,1;glow,Color("Invisible");diffuse,GameColor.Judgment["JudgmentLine_Miss"];sleep,2;linear,0.5;diffuse,Color("Invisible");
#
AveragePulseCommand=finishtweening;diffusealpha,1;zoom,0.75*1.025;decelerate,0.05;zoom,0.75;sleep,2;linear,0.5;diffusealpha,0;
TextPulseCommand=finishtweening;diffusealpha,1;zoom,0.5*1.025;decelerate,0.05;zoom,0.5;sleep,2;linear,0.5;diffusealpha,0;

[Course]

[CustomDifficulty]

[DifficultyList]
ItemsSpacingY=24
NumShownItems=20

[FadingBanner]
BannerFadeFromCachedCommand=diffusealpha,1;stoptweening;accelerate,0.05;glow,Color("Invisible");decelerate,0.075;diffusealpha,0;glow,Color("Invisible");
BannerOnCommand=
BannerFadeFromCachedCommand=diffusealpha,1;stoptweening;linear,0.1;glow,Color("Invisible");decelerate,0.15;glow,Color.Invisible;diffusealpha,0
BannerFadeOffCommand=diffusealpha,1;stoptweening;linear,0.1;diffusealpha,0
BannerResetFadeCommand=diffusealpha,1

BannerRouletteCommand=zoom,0.2
BannerRandomCommand=
[Gameplay]

[GameState]
DefaultSort="Group"
DefaultSong="Songs/01-sushi/S1 DrM"
DefaultNoteSkinName="clover"

[GrooveRadar]

[GroupList]

[HighScore]

[Inventory]

[LifeMeterBar]
OverOnCommand=diffuse,Color("Orange");diffuserightedge,BoostColor(Color("Orange"),1.5)

[LifeMeterBattery]
BatteryBlinkTime=0.5
#
BatteryP1X=0
BatteryP1Y=0
BatteryP2X=0
BatteryP2Y=0
#
NumLivesP2OnCommand=zoomx,-1
NumLivesP2LoseLifeCommand=zoomx,-1.5;zoomy,1.5;linear,0.15;zoomx,-1;zoomy,1

[LifeMeterBattery Percent]
#
PercentP2OnCommand=zoom,0.7;zoomx,-0.7;shadowlength,0;diffuse,PlayerColor(PLAYER_2)
DancePointsP2OnCommand=zoom,0.7;zoomx,-0.7;shadowlength,0;diffuse,PlayerColor(PLAYER_2)

[LifeMeterTime]

[LyricDisplay]

[NotesWriterSM]

[OptionRow]

ItemsStartX=SCREEN_CENTER_X-140
ItemsEndX=SCREEN_CENTER_X+140
ItemsGapX=10
TitleX=SCREEN_CENTER_X-225
TitleY=SCREEN_TOP+50
TitleOnCommand=shadowlength,0;uppercase,true;wrapwidthpixels,SCREEN_WIDTH*0.2;zoom,0.6
TitleGainFocusCommand=diffuse,color("1,1,0,1");diffusetopedge,color("1,0,0,1")
TitleLoseFocusCommand=diffuse,color("1,1,1,1");strokecolor,color("0,0,0,1")
TweenSeconds=0.1
ItemX=SCREEN_CENTER_X-250
ItemOnCommand=y,SCREEN_TOP+50;shadowlength,0;zoom,0.5;
ItemGainFocusCommand=
ItemLoseFocusCommand=
ItemsLongRowP1X=SCREEN_CENTER_X-60
ItemsLongRowP2X=SCREEN_CENTER_X+100
ItemsLongRowSharedX=SCREEN_CENTER_X

[OptionRowService]
Fallback="OptionRow"
# Service Titles are all that are shown.
ShowUnderlines=false
ShowCursors=false
#
TitleX=SCREEN_CENTER_X-136
TitleY=SCREEN_TOP+20
TitleOnCommand=shadowlength,1;uppercase,true;maxwidth,400;zoom,0.65
TitleGainFocusCommand=diffuse,color("1,1,0,1");diffusetopedge,color("1,0,0,1")
TitleLoseFocusCommand=diffuse,color("1,1,1,1");strokecolor,color("0,0,0,1")
ItemsLongRowP1X=SCREEN_CENTER_X-60
ItemsLongRowP2X=SCREEN_CENTER_X+100
ItemsLongRowSharedX=SCREEN_CENTER_X

[OptionRowExit]
FrameOnCommand=visible,true;
FrameX=SCREEN_CENTER_X-135
FrameY=SCREEN_CENTER_Y-150

ItemsMinBaseZoom=1
ItemOnCommand=strokecolor,Color("Black");shadowlength,1;zoom,0.8;uppercase,true;diffuse,color("1,1,1,0.3");x,SCREEN_CENTER_X-136;y,SCREEN_CENTER_Y-150
ItemGainFocusCommand=diffuse,color("1,1,1,1");
ItemLoseFocusCommand=diffuse,color("1,1,1,0.3");
ColorSelected=color("1,1,1,1");
ColorNotSelected=color("1,1,1,0.3");
ColorDisabled=color("1,1,1,0.3");

ItemSharedRowX=x,SCREEN_CENTER_X

ItemsLongRowP1X=SCREEN_CENTER_X-1024
ItemsLongRowP2X=SCREEN_CENTER_X+1024
ItemsLongRowSharedX=SCREEN_CENTER_X

[OptionRowServiceChildExit]
Fallback="OptionRowExit"
FrameOnCommand=visible,true;
FrameX=SCREEN_CENTER_X
FrameY=SCREEN_CENTER_Y-150

ItemsMinBaseZoom=1
ItemOnCommand=strokecolor,Color("Black");shadowlength,1;zoom,0.8;uppercase,true;diffuse,color("1,1,1,0.3");x,SCREEN_CENTER_X;y,SCREEN_CENTER_Y-150
ItemGainFocusCommand=diffuse,color("1,1,1,1");
ItemLoseFocusCommand=diffuse,color("1,1,1,0.3");
ColorSelected=color("1,1,1,1");
ColorNotSelected=color("1,1,1,0.3");
ColorDisabled=color("1,1,1,0.3");

ItemSharedRowX=x,SCREEN_CENTER_X

ItemsLongRowP1X=SCREEN_CENTER_X-1024
ItemsLongRowP2X=SCREEN_CENTER_X+1024
ItemsLongRowSharedX=SCREEN_CENTER_X



[OptionsCursor]

[OptionsCursorP1]
LeftOnCommand=visible,false
MiddleOnCommand=visible,false
RightOnCommand=visible,false

[OptionsCursorP2]
LeftOnCommand=visible,false
MiddleOnCommand=visible,false
RightOnCommand=visible,false

[OptionsUnderline]

[OptionsUnderlineP1]
LeftOnCommand=visible,false
MiddleOnCommand=x,1;y,SCREEN_TOP+60;diffuse,color("1,1,0,1");diffusetopedge,color("1,0,0,1")
RightOnCommand=visible,false

[OptionsUnderlineP2]
LeftOnCommand=visible,false
MiddleOnCommand=visible,false
RightOnCommand=visible,false

[MenuTimer]
Text1OnCommand=zoom,0.5;x,-385;stopeffect;finishtweening;shadowlength,2;strokecolor,Color("Outline");
Text1FormatFunction=function(fSeconds) fSeconds=math.floor(fSeconds); return string.format("%02.0f",fSeconds) end

Warning10Command=diffuseshift;effectperiod,1;effectcolor1,Color.White;effectcolor2,Color.Red;

[MenuTimerNoSound]

[ScreenLoading]
AllowOperatorMenuButton=false
AllowStartToSkip=false
NextScreen="ScreenInit"
PlayMusic=false
TimerSeconds=10
ForceTimer=true
ShowCreditDisplay=false

[ScreenDiscImages]
Fallback="ScreenAttract"
Class="ScreenAttract"
PrevScreen="ScreenTeamSushi"
NextScreen="ScreenLogo"
PlayMusic=true
TimerSeconds=72
ForceTimer=true
ShowCreditDisplay=false

[ScreenAdvertise]
Fallback="ScreenAttract"
Class="ScreenAttract"
PrevScreen="ScreenDemonstration"
NextScreen="ScreenInit"
TimerSeconds=25
ForceTimer=true
PlayMusic=true
ShowCreditDisplay=false

[ScreenTeamSushi]
Fallback="ScreenAttract"
Class="ScreenAttract"
PrevScreen="ScreenInit"
NextScreen="ScreenDiscImages"
TimerSeconds=15
ForceTimer=true
PlayMusic=false
ShowCreditDisplay=false

[MenuTimerContinue]
Fallback="MenuTimer"
Text1OnCommand=strokecolor,Color.Outline;shadowlength,2
Text1FormatFunction=function(fSeconds) return string.format("%00.0f",fSeconds) end;

Text2OnCommand=visible,false
Text2FormatFunction=function(fSeconds) return "" end;


[MusicWheel]
SwitchSeconds=0.1
LockedInitialVelocity=7
BannerRouletteOnCommand=zoom,0.2
RouletteSwitchSeconds=0.04
RouletteSlowDownSwitches=5
LockedInitialVelocity=144

; linear wheel example:
;	ItemTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) \
;		self:y(offsetFromCenter*38); \
;	end;
; 3D wheel example:
;	ItemTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) \
; 		local curve = math.pi; \
; 		local WHEEL_3D_RADIUS = 245; \
;		local rotationx_radians = scale(offsetFromCenter,-numItems/2,numItems/2,-curve/2,curve/2); \
;		self:x( 0 - math.cos(offsetFromCenter/math.pi) ); \
;		self:y( WHEEL_3D_RADIUS * math.sin(rotationx_radians) ); \
;		self:z( -100 + WHEEL_3D_RADIUS * math.cos(rotationx_radians) ); \
;		self:rotationx( rotationx_radians * 180/math.pi );	--[[ to degrees end]] \
;	end;
ItemTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) self:x( (1-math.cos(offsetFromCenter/math.pi))*4 ); self:y( offsetFromCenter*83 ); end
MusicWheelSortOnCommand=fov,90;
MusicWheelSortOffCommand=fov,90;
MusicWheelItemSortOnCommand=zoomx,0;bounceend,0.6;zoomx,1
MusicWheelItemSortOffCommand=linear,0.5;zoomx,3;zoomy,0
HighlightOnCommand=diffuseramp;effectcolor2,Color.White;effectcolor1,color("1,1,1,0.5");effectclock,'beatnooffset'
HighlightSortOnCommand=stoptweening;decelerate,0.05;glow,Color.Stealth;zoom,1
HighlightSortOffCommand=stoptweening;accelerate,0.05;glow,Color.Yellow;zoom,1.05
WheelItemOnDelayOffset=0.04
WheelItemOffDelayOffset=0.04

SectionColor1=Color("White")
#
SongRealExtraColor=Color("White")
SortMenuColor=Color("Orange")

#

UseEasyMarkerFlag=false





[CourseWheel]
SwitchSeconds=0.0325
LockedInitialVelocity=7

RouletteSwitchSeconds=0.04
RouletteSlowDownSwitches=5
LockedInitialVelocity=15
ItemTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) self:x( (1-math.cos(offsetFromCenter/math.pi)) ); self:y( offsetFromCenter*140 ); end
MusicWheelSortOnCommand=fov,90;
MusicWheelSortOffCommand=fov,90;
MusicWheelItemSortOnCommand=zoomy,0;bounceend,0.05;zoomy,1
MusicWheelItemSortOffCommand=linear,0.05;zoomy,0
MusicWheelItemOffCommand=zoom,1
HighlightOnCommand=diffuseramp;effectcolor2,Color.White;effectcolor1,color("1,1,1,0.5");effectclock,'beatnooffset'
HighlightSortOnCommand=stoptweening;decelerate,0.05;glow,Color.Stealth;zoom,1
HighlightSortOffCommand=stoptweening;accelerate,0.05;glow,Color.Yellow;zoom,1.05
WheelItemOnDelayOffset=0.04
WheelItemOffDelayOffset=0.04

SectionColor1=Color("Orange")
#
SongRealExtraColor=Color("Red")
SortMenuColor=Color("Orange")

#

UseEasyMarkerFlag=true


[OniWheel]
Fallback="CourseWheel"
ModeMenuChoiceNames="Oni,Survival"

[OnlineMusicWheel]

[MusicWheelItem]
WheelNotifyIconX=-128-16+0.5
WheelNotifyIconOnCommand=shadowlength,2;
#
SongNameX=-2000000
SongNameY=500000
SongNameOnCommand=visible,false
#
ArtistNameX=-100900000
ArtistNameOnCommand=visible,false
#
CourseX=-12012313221
CourseOnCommand=visible,false
#
SectionExpandedX=-38123312312321
SectionExpandedY=-2132312123123231
SectionExpandedOnCommand=visible,false
#
SectionCollapsedX=-38312123123123
SectionCollapsedY=-2123123312
SectionCollapsedOnCommand=visible,false
#
SectionCountX=320312312312312123
SectionCountOnCommand=visible,false
#
RouletteOnCommand=diffusealpha,0;x,SCREEN_CENTER_X+100000000000000000
#
SortX=-13223123213
SortY=-2132132123231
SortOnCommand=maxwidth,256;horizalign,left;shadowlength,1;shadowcolor,color("0,0,0,0.325")
#
ModeX=-132132312312321
ModeY=-2123312231
ModeOnCommand=maxwidth,256;horizalign,left;strokecolor,Color("Outline")
#
GradeP1X=106+160000
GradeP1Y=-811000000
GradeP2X=110+16000000
GradeP2Y=8110000000


[NoteField]
ShowBoard=true
NoteSkinsToHide="default,routine-p1,routine-p2,routine-p3,routine-p4"
RoutineNoteSkinP1="routine-p1"
RoutineNoteSkinP2="routine-p2"
RoutineNoteSkinP3="routine-p3"
RoutineNoteSkinP4="routine-p4"
DefaultNoteskin="clover"

[PlayerStageStats]

[Player]
# In The Groove
# ReceptorArrowsYStandard=-125
# ReceptorArrowsYReverse=145
# StepMania Alpha 4
# ~ ReceptorArrowsYStandard=-144
# ~ ReceptorArrowsYReverse=144
# SM5's default uses a UserPreference for this.
ReceptorArrowsYStandard=GetTapPosition('Standard')
ReceptorArrowsYReverse=GetTapPosition('Reverse')
ComboUnderField=false
RollBodyIncrementsCombo=true


[StepsDisplayListRow]
# TODO: Make this use DifficultyList?
CapitalizeDifficultyNames=false
NumShownItems=10
ItemsSpacingY=24
MoveCommand=decelerate,0.05

FrameX=

FrameSetCommand=%function(self,param) \
	if param.CustomDifficulty and param.CustomDifficulty ~= "" then \
		self:diffuse(ColorMidTone( CustomDifficultyToColor(param.CustomDifficulty) )); \
	else \
		self:diffuse(color('1,1,1,1')); \
	end; \
end;
#
NumTicks=10
MaxTicks=10
#
ShowMeter=true
MeterX=56
MeterOnCommand=shadowlength,1;zoom,0.65;textglowmode,'TextGlowMode_Inner';
MeterSetCommand=%function(self,param) \
	if param.CustomDifficulty and param.CustomDifficulty ~= "" then \
		self:diffuse(CustomDifficultyToColor(param.CustomDifficulty)); \
		self:shadowcolor(CustomDifficultyToDarkColor(param.CustomDifficulty)); \
	end; \
	if param.Meter then \
		if param.Meter >= 10 then \
			self:textglowmode('TextGlowMode_Inner'); \
			self:glowshift(); \
		else \
			self:stopeffect(); \
		end; \
	end; \
end;
#
ShowDescription=true
DescriptionX=ThemePrefs.Get("AutoSetStyle") and (-64-8+20) or (-64-8)
DescriptionOnCommand=shadowlength,1;horizalign,left;zoom,0.65;maxwidth,128+8-20;uppercase,true;
DescriptionSetCommand=%function(self,param) \
	if self:GetText() == "" then \
		self:settext("Edit"); \
	end; \
	if param.CustomDifficulty and param.CustomDifficulty ~= "" then \
		self:diffuse(CustomDifficultyToColor(param.CustomDifficulty)); \
		self:shadowcolor(CustomDifficultyToDarkColor(param.CustomDifficulty)); \
	end; \
end;
#
ShowAutogen=true
AutogenX=0
AutogenY=0
AutogenOnCommand=diffuseshift;effectcolor1,Color.Alpha( Color("Green") , 0.5 );effectcolor2,ColorMidTone( Color("Green") );
#AutogenOnCommand=zoom,0.75;
#
ShowStepsType=ThemePrefs.Get("AutoSetStyle")
StepsTypeX=-64-8
StepsTypeY=0
StepsTypeOnCommand=
StepsTypeSetCommand=

[SongMeterDisplay]
StreamWidth=380

ContainerX=
ContainerY=
ContainerOnCommand=
ContainerOffCommand=

FrameX=0
FrameY=0
FrameOnCommand=sleep,2;linear,0.25;diffuse,Color("Orange");glow,1,1,1,0.5;decelerate,0.6;glow,1,1,1,0
FrameOffCommand=

StreamX=0
StreamY=0
StreamOnCommand=0
StreamOffCommand=0

TipX=0
TipY=0
TipOnCommand=
TipOffCommand=
[SongMeterDisplayP1]
Fallback="SongMeterDisplay"
FrameOnCommand=sleep,2;linear,0.25;diffuse,PlayerColor(PLAYER_1);glow,1,1,1,0.5;decelerate,0.6;glow,1,1,1,0
[SongMeterDisplayP2]
Fallback="SongMeterDisplay"
FrameOnCommand=sleep,2;linear,0.25;diffuse,PlayerColor(PLAYER_2);glow,1,1,1,0.5;decelerate,0.6;glow,1,1,1,0


[StreamDisplay]
; a simple bar life meter:
; PillTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) local native_width=32; local zoomed_width=12; self:zoomx(zoomed_width/native_width); self:x((itemIndex-(numItems/2))*zoomed_width); end
# PillTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) \
	# local fItemWidth = ( 256 / numItems ) \
	# self:x( ((itemIndex-(numItems/2))*fItemWidth) + ( numItems / 2 ) ); \
	# self:zoomtowidth(fItemWidth); \
	# self:diffuseramp(); \
	# self:effectperiod(4); \
	# self:effectoffset((itemIndex-1)/numItems * -1); \
	# self:effectcolor2(color("1,1,1,1")); \
	# self:effectcolor1(color("0.5,0.5,0.5,1")); \
	# self:effectclock('beatnooffset'); \
# end;
PillTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) \
	local offset = itemIndex / numItems \
	local rate = 4 \
	local fItemWidth = ( 256 / numItems ) \
	self:x( ((itemIndex-(numItems/2))*fItemWidth) + ( numItems / 2 ) ); \
	self:zoomtowidth(fItemWidth); \
	self:diffuseramp(); \
	self:effectcolor2(color("1,1,1,1")); \
	self:effectcolor1(color("0.5,0.5,0.5,1")); \
	self:effectperiod(rate); \
	self:effectclock('beat'); \
	self:effectoffset(1-offset); \
end;
# PillTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) \
	# local fItemWidth = ( 256 / numItems ) \
	# self:x( ((itemIndex-(numItems/2))*fItemWidth) + ( numItems / 2 ) ); \
	# self:zoomtowidth(fItemWidth); \
	# self:diffuseramp(); \
	# self:effecttiming(1,0.01875*itemIndex,1,1-(0.01875*itemIndex)); \
	# self:effectclock('beatnooffset'); \
# end;
TextureCoordScaleX=256/16
NumPills=16

[TextBanner]
TitleOnCommand=horizalign,center;shadowlength,1.5;
SubtitleOnCommand=horizalign,center;shadowlength,1.5;
ArtistOnCommand=visible,false
ArtistPrependString=""

[TextBannerHighScore]
Fallback="TextBanner"

[WheelNotifyIcon]

[Screen]

[ScreenDebugOverlay]
BackgroundColor=color("0,0,0,0.75")

LineOnColor=Color.White
LineOffColor=color("0.75,0.75,0.75,1")
LineStartY=SCREEN_TOP+50
LineSpacing=19
LineButtonX=SCREEN_CENTER_X-50
LineFunctionX=SCREEN_CENTER_X-30

ButtonTextOnCommand=NoStroke;zoom,0.8;shadowlength,1
ButtonTextToggledCommand=linear,0.025;textglowmode,'TextGlowMode_Inner';glow,color("1,0,0,1");sleep,0.125;decelerate,0.2;glow,color("1,0,0,0");
FunctionTextOnCommand=NoStroke;zoom,0.8;skewx,-0.125;shadowlength,1

PageStartX=SCREEN_CENTER_X-100
PageSpacingX=120
PageTextOnCommand=NoStroke;zoom,0.75;strokecolor,Color.Outline;
PageTextGainFocusCommand=diffuse,color("1,1,1,1");skewx,-0.125;
PageTextLoseFocusCommand=diffuse,color("0.6,0.6,0.6,1")

DebugMenuHeaderX=SCREEN_LEFT+80
DebugMenuHeaderY=SCREEN_TOP+18
DebugMenuHeaderOnCommand=diffusebottomedge,color("0.675,0.675,0.675,1");strokecolor,Color.Outline
DebugMenuHeaderOffCommand=

HeaderTextX=SCREEN_LEFT+80
HeaderTextY=SCREEN_TOP+18
HeaderTextOnCommand=textglowmode,'TextGlowMode_Inner';glowshift;effectperiod,4;skewx,-0.125;diffusebottomedge,color("0.75,0.75,0.75,1");strokecolor,Color.Outline
HeaderTextOffCommand=
#

[ScreenSystemLayer]
ShowClock=true
CreditsP1OnCommand=horizalign,left;vertalign,bottom;zoom,0.675;shadowlength,1;diffuse,PlayerColor(PLAYER_1);diffusetopedge,ColorLightTone(PlayerColor(PLAYER_1));
#
CreditsP2OnCommand=horizalign,right;vertalign,bottom;zoom,0.675;shadowlength,1;diffuse,PlayerColor(PLAYER_2);diffusetopedge,ColorLightTone(PlayerColor(PLAYER_2));
#

[ScreenConsoleOverlay]

[ScreenInstallOverlay]

[ScreenSyncOverlay]

[ScreenStatsOverlay]

[ScreenWithMenuElements]
WaitForChildrenBeforeTweening=true

ScreenInDelay=0
ScreenOutDelay=0

FOV=90
ShowHeader=true
HeaderX=SCREEN_CENTER_X
HeaderY=SCREEN_TOP-2
HeaderOnCommand=draworder,1;
HeaderOffCommand=

ShowFooter=true
FooterX=SCREEN_CENTER_X
FooterY=SCREEN_BOTTOM+4
FooterOnCommand=draworder,1;
FooterOffCommand=

ShowHelp=true
HelpX=SCREEN_CENTER_X
HelpY=SCREEN_BOTTOM-16
HelpOnCommand=SetSecsBetweenSwitches,4;zoom,0.675;maxwidth,480/0.675;shadowlength,1;strokecolor,Color("Black");draworder,105;zoomy,0;zoom,1*0.675;linear,0.175
HelpOffCommand=linear,0.175;zoomy,0

AlternateHelpDisplayX=SCREEN_CENTER_X
AlternateHelpDisplayY=SCREEN_BOTTOM-16
# AlternateHelpDisplayOnCommand=draworder,105;
AlternateHelpDisplayOnCommand=SetSecsBetweenSwitches,4;zoom,0.675;maxwidth,480/0.675;shadowlength,1;strokecolor,Color("Black");draworder,105;zoomy,0;linear,0.175;zoom,1*0.675;diffusealpha,0
AlternateHelpDisplayOffCommand=linear,0.175;zoomy,0

TimerX=SCREEN_RIGHT-36-4
TimerY=SCREEN_TOP+23
TimerOnCommand=draworder,2;visible,PREFSMAN:GetPreference("MenuTimer");
# TimerOnCommand=fov,90;vanishpoint,SCREEN_RIGHT-36-4,SCREEN_TOP+20;draworder,5;visible,PREFSMAN:GetPreference("MenuTimer");rotationy,90;decelerate,0.4;rotationy,0;
TimerOffCommand=
# TimerOffCommand=accelerate,0.4;rotationx,90;

StageDisplayNumberOffset=1

#
StageDisplayUseShortString=false

# This is useful 
ArcadeOverlayX=
ArcadeOverlayY=
ArcadeOverlayOnCommand=draworder,100
ArcadeOverlayOffCommand=
#
ArcadeOverlay.TextX=SCREEN_CENTER_X
ArcadeOverlay.TextY=SCREEN_BOTTOM-48
ArcadeOverlay.TextOnCommand=
ArcadeOverlay.TextOffCommand=

[ScreenWithMenuElementsBlank]
ShowHeader=false
ShowFooter=false

[ScreenSelectMaster]

[ScreenSelectMasterBlank]

[ScreenTextEntry]
QuestionX=SCREEN_CENTER_X+170
QuestionY=SCREEN_CENTER_Y-150
QuestionOnCommand=zoom,0.75;diffuse,Color("Orange");diffusetopedge,BoostColor(Color("Orange"),1.5);wrapwidthpixels,600

AnswerX=SCREEN_CENTER_X+170
AnswerY=SCREEN_CENTER_Y-100
AnswerOnCommand=zoom,0.8;maxwidth,220;diffuse,Color("Blue");glowshift;


[ScreenInit]
TimerSeconds=10
ForceTimer=true
NextScreen="ScreenTeamSushi"
PrepareScreens="ScreenTitleMenu,ScreenTitleJoin"
GroupedScreens="ScreenInit,ScreenTitleJoin,ScreenTitleMenu"
PersistScreens="ScreenInit,ScreenTitleJoin,ScreenTitleMenu"
ShowCreditDisplay=false



[ScreenTitleMenu]
#Music is controlled by lua due to a strange bug with music not stopping
HandleBackButton=false
AllowOperatorMenuButton=false
PlayMusic=true
#PrepareScreens="ScreenSelectProfile"
StopMusicOnBack=true
PerChoiceScrollElement=false
ShowIcon=false
WrapScroller=false
ShowCreditDisplay=false
#
ShowScroller=true
ScrollerX=SCREEN_CENTER_X
ScrollerY=SCREEN_CENTER_Y-800
ScrollerOnCommand=zoom,0.8;sleep,1;linear,0.3;y,SCREEN_CENTER_Y+80;linear,0.1;y,SCREEN_CENTER_Y+75;linear,0.1;y,SCREEN_CENTER_Y+80
ScrollerOffCommand=glowshift
#ScrollerTransform=function(self,offset,itemIndex,numItems) self:y(itemIndex*28) end;
ScrollerTransform=function(self,offset,itemIndex,numItems) end;
#
ChoiceNames="1,4,5,6"
DefaultChoice="1"

Choice1="screen,ScreenSelectProfile;applydefaultoptions;text,Play;"
Choice2="applydefaultoptions;   name,Course;   text,Lesson; playmode,nonstop; screen,ScreenSelectCourse; setenv,sMode,Nonstop"
Choice3="screen,ScreenEditMenu;text,Edit"
Choice4="screen,ScreenOptionsService;text,Options"
Choice5="urlnoexit,https://sites.google.com/view/sushiviolation;text,Visit Site"
Choice6="screen,ScreenExit;text,Exit"
#
ShowIcon=true
UseIconMetrics=true
#
IconGainFocusCommand=stoptweening;bounceend,0.125;zoom,1;
IconLoseFocusCommand=stoptweening;decelerate,0.25;zoom,0.8;
IconPositionY=SCREEN_CENTER_Y+130
#
IconChoiceGameStartX=SCREEN_CENTER_X-40
IconChoiceGameStartY=THEME:GetMetric("ScreenTitleMenu","IconPositionY");
#
IconChoice1X=SCREEN_CENTER_X-40
IconChoice1Y=THEME:GetMetric("ScreenTitleMenu","IconPositionY");
#
IconChoiceCourseX=SCREEN_CENTER_X-20
IconChoiceCourseY=THEME:GetMetric("ScreenTitleMenu","IconPositionY");
#
IconChoice3X=SCREEN_CENTER_X
IconChoice3Y=THEME:GetMetric("ScreenTitleMenu","IconPositionY");
#
IconChoice4X=SCREEN_CENTER_X+20
IconChoice4Y=THEME:GetMetric("ScreenTitleMenu","IconPositionY");
#
IconChoice5X=SCREEN_CENTER_X+40
IconChoice5Y=THEME:GetMetric("ScreenTitleMenu","IconPositionY");
#
IconChoice6X=SCREEN_CENTER_X+40
IconChoice6Y=THEME:GetMetric("ScreenTitleMenu","IconPositionY");

[ScreenQuickSetupOverview]

IconStartX=SCREEN_CENTER_X-160
IconStartY=SCREEN_BOTTOM-60
IconSetX=SCREEN_CENTER_X-160
IconSetY=SCREEN_BOTTOM-60
IconBackX=SCREEN_CENTER_X+160
IconBackY=SCREEN_BOTTOM-60

ExplanationX=SCREEN_CENTER_X
ExplanationY=SCREEN_BOTTOM-100
ExplanationOnCommand=shadowlength,1;zoom,0.75;maxwidth,SCREEN_WIDTH/0.75;
ExplanationOffCommand=


[ScreenProfileLoad]
#
ShowHeader=false
ShowFooter=false
ShowHelp=true
ShowCreditDisplay=false

[ScreenSelectProfile]
StopMusicOnBack=true
WaitForChildrenBeforeTweening=true
ShowCreditDisplay=false

[ScreenSelectStyle]
UpdateOnMesage=""
#
FOV=90
#
PerChoiceScrollElement=false
PerChoiceIconElement=false
#
# Having one lua function is so much better than dozens of metrics. -Kyz
ChoiceNames="lua,ScreenSelectStyleChoices()"
#
ShowScroller=false
ShowIcon=true
WrapScroller=false
UseIconMetrics=true
#
IconGainFocusCommand=stoptweening;bounceend,0.05;zoom,1;
IconLoseFocusCommand=stoptweening;decelerate,0.1;zoom,0.8;
#
IconChoicePosFunction=ScreenSelectStylePositions
IconChoiceOnCommand=zoom,0;bounceend,0.35;zoom,1
IconChoiceOffCommand=linear,0.05;zoomx,0
#

[ScreenNoPay]
AllowOperatorMenuButton=true
HandleBackButton=true
Fallback="ScreenWithMenuElements"
ShowCreditDisplay=false
PrevScreen="ScreenOptionsService"
NextScreen="ScreenOptionsService"
TimerSeconds=10
ForceTimer=true

[ScreenSelectPlayMode]
AllowLateJoin=false
StopMusicOnBack=true
AllowDisabledPlayerInput=false
PersistScreens="ScreenSelectPlayMode,ScreenSelectMusic"
#
ScreenOutDelay=5
#
ShowCreditDisplay=false
DefaultChoice="Normal"
ChoiceNames="Easy,Normal,HARD"
#
PerChoiceIconElement=false
#
ShowScroller=true
WrapScroller=true
ScrollerX=SCREEN_CENTER_X
ScrollerY=SCREEN_CENTER_Y-50
ScrollerOnCommand=SetFastCatchup,true;
ScrollerOffCommand=decelerate,0.35;y,SCREEN_CENTER_Y
#
ShowIcon=false
UseIconMetrics=true
#
ChoiceEasy="name,BASIC;playmode,regular;text,BASIC;setenv,selectable,no"
ChoiceNormal="name,ARCADE;playmode,regular;text,ARCADE;screen,ScreenSelectMusic"
ChoiceHARD="name,HARD;playmode,regular;text,MISSION;setenv,selectable,no"

[ScreenSelectCharacter]

[ScreenGameInformation]



# from the greatest themer ever
[freemTech2]
Class="ScreenSelectMaster"
Fallback="ScreenSelectMaster"
AllowOperatorMenuButton=true
AllowRepeatingInput=false
AllowDisabledPlayerInput=false

ChoiceNames="1,2,3,4"
Choice1="name,TopLeft;"
Choice2="name,TopRight;"
Choice3="name,BotLeft;"
Choice4="name,BotRight;"
DefaultChoice="1"

OptionOrderUp="1:3,3:1,2:4,4:2"
OptionOrderDown="1:3,3:1,2:4,4:2"
OptionOrderLeft="1:2,2:1,3:4,4:3"
OptionOrderRight="1:2,2:1,3:4,4:3"

CodeNames="Options,PressSelect,ReleaseSelect,Start,Return,Back,Center"
CodeOptions=GameCode("Options")
CodePressSelect="Select"
CodeReleaseSelect="~Select"
CodeStart="Start"
CodeReturn="Back"
CodeBack="~Back"
CodeCenter="Center"

HandleBackButton=false
SharedSelection=true

[ScreenCustomMenu]
Fallback="freemTech2"
PrevScreen="ScreenTitleMenu"
AllowRepeatingInput=true
RepeatRate=16


[OptionsHoldStartCheck]
Fallback="ScreenWithMenuElementsBlank"
NextScreen="ScreenStageInformation"


[ScreenSelectMusic]
AllowLateJoin=false
AllowDisabledPlayerInput=false
StopMusicOnBack=true
TwoPartConfirm=true
TwoPartSelection=true
SampleMusicLoops=false
SampleMusicDelay=0.3
SampleMusicDelayInit=0.5
SampleMusicFadeOutSeconds=2
SampleMusicFallbackFadeInSeconds=2
PrevScreen="ScreenInit"
NextScreen="ScreenStageInformation"
ShowCreditDisplay=false
UsePlayerSelectMenu=false
NullScoreString="NOT PLAYED"
# OptionsMenuAvailable=(getenv(sMode) ~= Oni)
SelectMenuAvailable=true
# ModeMenuAvailable=(getenv(sMode) == Normal)
# HelpDisplay has things added here to make sure it disappears for another 
# actor, which we defined in this screens decorations.
HelpSelectMenuOpenedMessageCommand=stoptweening;maxwidth,480/0.675;zoom,0.675;accelerate,0.125;diffusealpha,0;zoom,0.675*0.75;
HelpSelectMenuClosedMessageCommand=stoptweening;maxwidth,480/0.675;zoom,0.675*0.75;bouncebegin,0.125;diffusealpha,1;zoom,0.675
# Clone everything from HelpDisplay: we're lazy
ShowAlternateHelpDisplay=false
# AlternateHelpDisplaySelectMenuOpenedMessageCommand=stoptweening;y,SCREEN_BOTTOM-16;accelerate,0.0725/2;y,SCREEN_BOTTOM-16-16;diffusealpha,1;decelerate,0.0725/2;y,SCREEN_BOTTOM-16-32;
# AlternateHelpDisplaySelectMenuClosedMessageCommand=stoptweening;y,SCREEN_BOTTOM-16;smooth,0.125;y,SCREEN_BOTTOM-16;diffusealpha,0;
AlternateHelpDisplaySelectMenuOpenedMessageCommand=stoptweening;maxwidth,480/0.675;zoom,0.675*1.25;bounceend,0.2;diffusealpha,1;zoom,0.675;
AlternateHelpDisplaySelectMenuClosedMessageCommand=stoptweening;maxwidth,480/0.675;zoom,0.675;accelerate,0.125;diffusealpha,0;zoom,0.675*0.75;
#
MusicWheelX=-173.5
MusicWheelY=SCREEN_CENTER_Y
MusicWheelOnCommand=draworder,-5;fov,90;decelerate,0;addx,SCREEN_CENTER_X-26.66
MusicWheelOffCommand=bouncebegin,0.5;zoomx,0;decelerate,1
#
ShowNewSong=false
NewSongX=SCREEN_CENTER_X-160+128-24234423342
NewSongY=SCREEN_TOP+160-2234234234423
NewSongOnCommand=finishtweening;diffuse,Color("Orange");diffusetopedge,Color("Yellow");strokecolor,Color("Black");zoom,0.675;draworder,106;playcommand,"Set"
NewSongOffCommand=bouncebegin,0.1;zoom,0;diffusealpha,0
NewSongShowCommand=finishtweening;diffusealpha,1;glowshift;effectclock,'bgm';effectperiod,4;textglowmode,'TextGlowMode_Inner';
NewSongHideCommand=finishtweening;;diffusealpha,0;stopeffect;
#
ShowSongTime=false
SongTimeX=SCREEN_CENTER_X-160
SongTimeY=SCREEN_TOP+160+(36/2)+8
SongTimeOnCommand=zoom,0.75;strokecolor,Color("Outline");shadowlength,1


SongTimeOffCommand=bouncebegin,0.15;zoom,0;diffusealpha,0;
SongTimeResetCommand=diffuse,Color("White");
SongTimeAutogenCommand=diffuse,Color("Yellow");
SongTimeLongCommand=diffuse,Color("Yellow");diffusebottomedge,Color("Orange");
SongTimeMarathonCommand=diffuse,Color("Orange");diffusebottomedge,Color("Red");
#
ShowSortOrderFrame=false
SortOrderFrameX=SCREEN_CENTER_X+128+32
SortOrderFrameY=SCREEN_TOP+24
SortOrderFrameOnCommand=draworder,105;shadowlength,1
SortOrderFrameSortCommand=
SortOrderFrameSongChosenCommand=linear,0.1;diffusealpha,0;
SortOrderFrameOffCommand=bouncebegin,0.05;zoomy,0;
#
ShowSortOrder=true
SortOrderX=SCREEN_CENTER_X-1344560+128
SortOrderY=SCREEN_TOP+160+(36/2)+8
SortOrderOnCommand=draworder,105;horizalign,right;strokecolor,Color("Outline");zoom,0.675;maxwidth,96/0.675;
SortOrderSortCommand=finishtweening;zoom,0.675*1.25;diffuse,Color("Yellow");diffusebottomedge,Color("Orange");decelerate,0.5;zoom,0.675;diffuse,Color("White");
SortOrderSongChosenCommand=linear,0.25;diffusealpha,0;
SortOrderOffCommand=bouncebegin,0.05;zoomy,0;
#
ShowStageDisplay=false
StageDisplayX=SCREEN_RIGHT-250
StageDisplayY=SCREEN_TOP+10
StageDisplayOnCommand=skewx,-0.125;draworder,105;fov,90;zoom,0.75
StageDisplayOffCommand=linear,0.05;zoomy,0;
#
ShowDifficultyDisplay=false
DifficultyDisplayX=SCREEN_CENTER_X+20
DifficultyDisplayY=SCREEN_CENTER_Y+220
DifficultyDisplayOnCommand=draworder,105;fov,90;zoom,1;zoomy,0;sleep,1;smooth,1;zoomy,1
DifficultyDisplayOffCommand=linear,0.5;zoomy,0;
#
BannerX=SCREEN_CENTER_X-170
BannerY=SCREEN_CENTER_Y
BannerOnCommand=draworder,-1;scaletoclipped,238,93;visible,false;ztest,1;addy,-SCREEN_CENTER_Y;decelerate,0.1;addy,SCREEN_CENTER_Y
BannerOffCommand=bouncebegin,0.15;zoomx,0;
#
ShowBannerFrame=false
BannerFrameX=SCREEN_CENTER_X-170
BannerFrameY=SCREEN_CENTER_Y
BannerFrameOnCommand=draworder,105;scaletoclipped,260,102;visible,false;ztest,1;addy,-SCREEN_CENTER_Y;decelerate,0.1;addy,SCREEN_CENTER_Y
BannerFrameOffCommand=bouncebegin,0.5;zoomx,0;
#
ShowBPMDisplay=false
BPMDisplayX=SCREEN_CENTER_X-160-90+2
BPMDisplayY=SCREEN_TOP+160+(36/2)+8
BPMDisplayOnCommand=finishtweening;maxwidth,128;horizalign,left;strokecolor,Color.Outline;addx,320;zoomx,0;decelerate,0.1;addx,-320;zoomx,1
BPMDisplayOffCommand=bouncebegin,0.05;zoomx,0;
#
ShowBPMLabel=false
BPMLabelX=SCREEN_CENTER_X
BPMLabelY=SCREEN_CENTER_Y
BPMLabelOnCommand=addx,-SCREEN_CENTER_X;decelerate,0.1;addx,SCREEN_CENTER_X
BPMLabelOffCommand=bouncebegin,0.05;zoomx,0;
#
ShowSegmentDisplay=false
SegmentDisplayX=SCREEN_CENTER_X-160
SegmentDisplayY=SCREEN_TOP+160-36+4
SegmentDisplayOnCommand=addx,-SCREEN_CENTER_X;decelerate,0.1;addx,SCREEN_CENTER_X
SegmentDisplayOffCommand=bouncebegin,0.05;zoomx,0;
#
ShowDifficultyList=false
DifficultyListX=SCREEN_CENTER_X-200
DifficultyListY=SCREEN_TOP+2160000
DifficultyListOnCommand=addx,-SCREEN_CENTER_X;decelerate,0.1;addx,SCREEN_CENTER_X;
DifficultyListStartSelectingStepsMessageCommand=finishtweening;accelerate,0.2;zoom,1.1;decelerate,0.2;zoom,1;
DifficultyListOffCommand=bouncebegin,0.05;zoomx,0;
#
DifficultyListTweenOnCommand=stoptweening;bounceend,0.1;zoomx,1
DifficultyListTweenOffCommand=stoptweening;bouncebegin,0.1;zoomx,0
# Shrink the difficultylist for viewing panedisplays;
# DifficultyListSelectMenuOpenedMessageCommand=stoptweening;decelerate,0.1;zoom,0.5;
# DifficultyListSelectMenuClosedMessageCommand=stoptweening;accelerate,0.05;zoom,1;
#
ShowPaneDisplayFrameP1=false
PaneDisplayFrameP1X=SCREEN_CENTER_X
PaneDisplayFrameP1Y=SCREEN_CENTER_Y
PaneDisplayFrameP1OnCommand=player,PLAYER_1;diffuse,Color("Orange");zoomy,0;sleep,0.1;decelerate,0.1;zoomy,1
PaneDisplayFrameP1OffCommand=bouncebegin,0.05;zoomx,0;
PaneDisplayFrameP1PlayerJoinedMessageCommand=%function(self,params) if params.Player == PLAYER_1 then self:playcommand("On") end end
#
ShowPaneDisplayTextP1=false
PaneDisplayTextP1X=SCREEN_CENTER_X-160
PaneDisplayTextP1Y=SCREEN_BOTTOM-122-2
PaneDisplayTextP1OnCommand=player,PLAYER_1;zoomy,0;sleep,0.1;decelerate,0.1;zoomy,1
PaneDisplayTextP1OffCommand=bouncebegin,0.05;zoomx,0;
PaneDisplayTextP1PlayerJoinedMessageCommand=%function(self,params) if params.Player == PLAYER_1 then self:playcommand("On") end end
#
ShowPaneDisplayFrameP2=false
PaneDisplayFrameP2X=SCREEN_CENTER_X+160
PaneDisplayFrameP2Y=SCREEN_BOTTOM-112-2
PaneDisplayFrameP2OnCommand=player,PLAYER_2;diffuse,Color("Orange");zoomy,0;sleep,0.1;decelerate,0.1;zoomy,1
PaneDisplayFrameP2OffCommand=bouncebegin,0.05;zoomx,0;
PaneDisplayFrameP2PlayerJoinedMessageCommand=%function(self,params) if params.Player == PLAYER_2 then self:playcommand("On") end end
#
ShowPaneDisplayTextP2=false
PaneDisplayTextP2X=SCREEN_CENTER_X+160
PaneDisplayTextP2Y=SCREEN_BOTTOM-122-2
PaneDisplayTextP2OnCommand=player,PLAYER_2;zoomy,0;sleep,0.1;decelerate,0.1;zoomy,1
PaneDisplayTextP2OffCommand=bouncebegin,0.05;zoomx,0;
PaneDisplayTextP2PlayerJoinedMessageCommand=%function(self,params) if params.Player == PLAYER_2 then self:playcommand("On") end end
#
ShowCourseContentsList=false
CourseContentsListX=SCREEN_CENTER_X-160
CourseContentsListY=SCREEN_TOP+216+6
CourseContentsListOnCommand=addx,-SCREEN_CENTER_X;decelerate,0.1;addx,SCREEN_CENTER_X
CourseContentsListOffCommand=bouncebegin,0.05;zoomx,0;
#
ShowNumCourseSongs=GAMESTATE:IsCourseMode()
NumCourseSongsX=SCREEN_CENTER_X-160+128
NumCourseSongsY=SCREEN_TOP+160+(36/2)+8
NumCourseSongsOnCommand=zoom,0.75;strokecolor,Color("Outline");shadowlength,1
NumCourseSongsOffCommand=bouncebegin,0.05;zoom,0;diffusealpha,0;
#
ShowSongOptions=false
SongOptionsX=SCREEN_CENTER_X
SongOptionsY=SCREEN_CENTER_Y
SongOptionsOnCommand=visible,false;draworder,1000
SongOptionsOffCommand=
#--
SongOptionsShowCommand=visible,true;uppercase,true;zoom,1.2;settext,THEME:GetString("ScreenSelectMusic","Press Start For Options");decelerate,0.2;zoom,1;
SongOptionsEnterCommand=uppercase,true;settext,THEME:GetString("ScreenSelectMusic","Entering Options");sleep,0.2;linear,0.2;zoomy,0;
SongOptionsHideCommand=linear,0.1;zoomy,0;
#
ShowSongOptionsFrame=false
SongOptionsFrameX=SCREEN_CENTER_X
SongOptionsFrameY=SCREEN_CENTER_Y
SongOptionsFrameOnCommand=visible,false;draworder,1000
SongOptionsFrameOffCommand=
#--
SongOptionsFrameShowCommand=visible,true;diffuse,Color("Orange");diffusealpha,0.5;zoomy,40*1.5;linear,1.5;zoomy,40;
SongOptionsFrameEnterCommand=sleep,0.5;linear,0.3;diffusealpha,0;
SongOptionsFrameHideCommand=linear,0.3;diffusealpha,0
#
ScoreP1SortChangeCommand=stoptweening;
ScoreP2SortChangeCommand=stoptweening;
ScoreFrameP1SortChangeCommand=stoptweening;
ScoreFrameP2SortChangeCommand=stoptweening;
#
ShowStepsDisplayP1=true
StepsDisplayP1X=SCREEN_CENTER_X
StepsDisplayP1Y=SCREEN_CENTER_Y+100
StepsDisplayP1OnCommand=visible,THEME:GetMetric(Var "LoadingScreen","ShowStepsDisplayP1");addy,SCREEN_CENTER_Y;decelerate,0.1;addy,-SCREEN_CENTER_Y
StepsDisplayP1OffCommand=bouncebegin,0.05;zoomx,0;
# StepsDisplayP1CurrentStepsP1ChangedMessageCommand=stoptweening;zoom,1.2;decelerate,0.05;zoom,1
#
ShowStepsDisplayP2=GAMESTATE:IsHumanPlayer(PLAYER_2)
StepsDisplayP2X=SCREEN_CENTER_X
StepsDisplayP2Y=SCREEN_CENTER_Y+100
StepsDisplayP2OnCommand=visible,THEME:GetMetric(Var "LoadingScreen","ShowStepsDisplayP2");addy,SCREEN_CENTER_Y;decelerate,0.1;addy,-SCREEN_CENTER_Y
StepsDisplayP2OffCommand=bouncebegin,0.05;zoomx,0;
# StepsDisplayP2CurrentStepsP2ChangedMessageCommand=stoptweening;zoom,1.2;decelerate,0.05;zoom,1
#
ShowPercentScoreP1=true
PercentScoreP1X=SCREEN_CENTER_X-150
PercentScoreP1Y=SCREEN_CENTER_Y+100
PercentScoreP1OnCommand=player,PLAYER_1
PercentScoreP1OffCommand=bouncebegin,0.05;zoomx,0;
#
ShowPercentScoreP2=true
PercentScoreP2X=SCREEN_CENTER_X+150
PercentScoreP2Y=SCREEN_CENTER_Y+100
PercentScoreP2OnCommand=player,PLAYER_2
PercentScoreP2OffCommand=bouncebegin,0.05;zoomx,0;

MachineRecordP1X=SCREEN_CENTER_X-220
#MachineRecordP1Y=SCREEN_BOTTOM-156

MachineRecordP1Y=SCREEN_TOP+146
MachineRecordP1OnCommand=
MachineRecordP1OffCommand=
#
MachineRecordP2X=SCREEN_CENTER_X+220
#MachineRecordP2Y=SCREEN_BOTTOM-156
MachineRecordP2Y=SCREEN_TOP+146
MachineRecordP2OnCommand=

MachineRecordP2OffCommand=

UseOptionsList=true

OptionsListP1OnCommand=x,SCREEN_CENTER_X-150;y,SCREEN_CENTER_Y;draworder,100;
OptionsListP2OnCommand=x,SCREEN_CENTER_X+150;y,SCREEN_CENTER_Y;draworder,100;

CodeNames="SpeedUp,SpeedDown,SpeedHalfUp,SpeedHalfDown,SpeedQuarterUp,SpeedQuarterDown,GameLevelUp,GameLevelDown,OpenOpList"
CodeSpeedUp="UpLeft,UpRight,UpLeft,UpRight,Center"
CodeSpeedDown="UpRight,UpLeft,UpRight,UpLeft,Center"
CodeSpeedHalfUp="DownLeft,DownRight,DownLeft,DownRight,Center"
CodeSpeedHalfDown="DownRight,DownLeft,DownRight,DownLeft,Center"
CodeSpeedQuarterUp="UpLeft,UpRight,DownLeft,DownRight,Center"
CodeSpeedQuarterDown="UpRight,UpLeft,DownRight,DownLeft,Center"
CodeGameLevelUp="UpLeft,UpLeft,UpRight,UpRight,DownLeft,DownLeft,DownRight,DownRight,Center"
CodeGameLevelDown="DownRight,DownRight,DownLeft,DownLeft,UpRight,UpRight,UpLeft,UpLeft,Center"
CodeOpenOpList="DownLeft,DownRight,DownLeft,DownRight,DownLeft,DownRight"

#PreviousDifficultyButton="MenuLeft"
#NextDifficultyButton="MenuRight"

#PreviousSongButton="MenuUp"
#NextSongButton="MenuDown"

[OptionsList]

CodeNames=""

TopMenus="SongMenu"

TopMenu="SongMenu"

DirectLines="Speed,NoteSkins"


ItemsSpacingY=16
MaxItemsBeforeSplit=16
ItemsSplitWidth=120

TextOnCommand=draworder,100;zoom,0.425;shadowlength,0.75;diffusebottomedge,color("0.95,0.95,0.95,1");shadowcolor,color("0,0,0,1");
TextOffCommand=

TextTweenOffCommand=stoptweening;decelerate,0.175;diffusealpha,0;
TextTweenOnCommand=stoptweening;diffusealpha,0;accelerate,0.475;diffusealpha,1;
TextResetCommand=

UnderlineOnCommand=
UnderlineOffCommand=
UnderlineSetTwoRowsCommand=
UnderlineSetOneRowCommand=
UnderlineShowCommand=visible,true
UnderlineHideCommand=visible,false
UnderlineTweenOnCommand=draworder,101;stoptweening;linear,0.2;diffusealpha,1;
UnderlineTweenOffCommand=draworder,101;stoptweening;linear,0.2;diffusealpha,0;
UnderlineResetCommand=

CursorOnCommand=
CursorPositionTwoRowsCommand=
CursorPositionOneRowCommand=
CursorTweenOnCommand=stoptweening;linear,0.2;diffusealpha,1;
CursorTweenOffCommand=stoptweening;linear,0.2;diffusealpha,0;
CursorResetCommand=

OptionsListOnCommand=
OptionsListOffCommand=
OptionsListTweenOffCommand=playcommandonleaves,"FadeOff"
OptionsListTweenOnCommand=playcommandonleaves,"FadeOn"
OptionsListResetCommand=

OptionsListTweenOutForwardCommand=playcommandonleaves,"FadeOff"
OptionsListTweenOutBackwardCommand=playcommandonleaves,"FadeOff"

OptionsListTweenInForwardCommand=playcommandonleaves,"FadeOn"
OptionsListTweenInBackwardCommand=playcommandonleaves,"FadeOn"

OptionsListFadeOffCommand=stoptweening;linear,0.2;diffusealpha,0;
OptionsListFadeOnCommand=stoptweening;linear,0.2;diffusealpha,1;



LineSongMenu="list,SongMenu"

LineCourseMenu="list,CourseMenu"
;
LineSpeed="list,Speed"

LineAccel="list,Accel"

LineEffect="list,Effect"

LineAppearance="list,Appearance"

LineTurn="list,Turn"
LineInsert="list,Insert"

LineScroll="list,Scroll"

LineScreenFilter="list,ScreenFilter"

LineNoteSkins="list,NoteSkins"

LineRemove="list,Remove"
LineHide="list,Hide"

LinePersp="list,Persp"

LineMisc="list,Misc"

LineScoreDisplay="list,ScoreDisplay"

LineSteps="list,Steps"

LineCharacters="list,Characters"

LineSongRate="list,SongRate"


Fallback="ScreenWithMenuElements"


[OptionsListP1]
Fallback="OptionsList"
TextOnCommand=horizalign,left;

[OptionsListP2]
Fallback="OptionsList"
TextOnCommand=horizalign,right;

[ScreenSelectCourse]
AllowLateJoin=false
ShowCreditDisplay=false
NextScreen="ScreenGameplayCourse"
PrevScreen="ScreenTitleMenu"
MusicWheelType="CourseWheel"
Codes=GAMESTATE:GetPlayMode() == 'PlayMode_Oni' and "OniCodeDetector" or "CourseCodeDetector"
#
ShowDifficultyList=false
ShowCourseContentsList=true
ShowNumCourseSongs=true
#
UsePlayerSelectMenu=false
SelectMenuAvailable=false
#
ShowSortOrder=true
SortOrderOnCommand=visible,false
#
ShowPaneDisplayFrameP1=false
ShowPaneDisplayTextP1=false
ShowPaneDisplayFrameP2=false
ShowPaneDisplayTextP2=false

MusicWheelX=-173.5
MusicWheelY=SCREEN_CENTER_Y
MusicWheelOnCommand=draworder,-5;fov,90;decelerate,0;addx,SCREEN_CENTER_X-26.66
MusicWheelOffCommand=bouncebegin,0.5;zoomx,0;decelerate,1

[CourseCodeDetector]
NextSort1=""
NextSort2=""
NextSort3=""
NextSort4=""
ModeMenu1=""
ModeMenu2=""

[OniCodeDetector]
Fallback="CodeDetector"

[StepsDisplay]
FrameX=0
FrameY=0
FrameOnCommand=
FrameLoadCommand=%function(self,param) end;
FrameSetCommand=%function(self,param) \
	if param.CustomDifficulty then \
		self:diffuse(CustomDifficultyToColor(param.CustomDifficulty)); \
	end; \
end;
#
ShowTicks=false
NumTicks=10
MaxTicks=14
TicksX=0
TicksY=0
TicksOnCommand=shadowlength,0;
TicksSetCommand=%function(self,param) end;
#
ShowMeter=true
ZeroMeterString="?"
MeterX=56-32
MeterY=-2
MeterOnCommand=zoom,0.8;shadowlength,0.8;textglowmode,'TextGlowMode_Inner'
MeterSetCommand=%function(self,param) \
	if param.CustomDifficulty then \
		self:diffuse(CustomDifficultyToColor(param.CustomDifficulty)); \
		self:diffusetopedge(CustomDifficultyToLightColor(param.CustomDifficulty)); \
		self:shadowcolor(CustomDifficultyToDarkColor(param.CustomDifficulty)); \
	end; \
	if param.Meter then \
		if param.Meter >= 100 then \
			self:basezoom(0.8); \
			self:glowshift(); \
		elseif param.Meter >= 10 then \
			self:basezoom(1); \
			self:glowshift(); \
		else \
			self:basezoom(1); \
			self:stopeffect(); \
		end; \
	end; \
end;
#
ShowDescription=true
DescriptionX=-20-32
DescriptionY=GetGamePrefB("AutoSetStyle") and -5 or 0;
DescriptionOnCommand=shadowlength,0.8;uppercase,true;zoomx,0.6;zoomy,0.575;maxwidth,128+8;
DescriptionSetCommand=%function(self,param) \
	if self:GetText() == "" then \
		self:settext("Edit"); \
	end; \
	if param.CustomDifficulty then \
		self:diffuse(CustomDifficultyToColor(param.CustomDifficulty)); \
		self:diffusetopedge(CustomDifficultyToLightColor(param.CustomDifficulty)); \
		self:shadowcolor(CustomDifficultyToDarkColor(param.CustomDifficulty)); \
	end; \
end;
#
ShowAutogen=true
AutogenX=40-32
AutogenY=0
AutogenOnCommand=
AutogenSetCommand=%function(self,param) if param.Difficulty then self:diffuse(CustomDifficultyToLightColor(param.Difficulty)); self:strokecolor(CustomDifficultyToDarkColor(param.Difficulty)); end end
#
ShowStepsType=true
StepsTypeX=-20-32
StepsTypeY=6
StepsTypeOnCommand=zoom,0.45;

[StepsDisplayGameplay]
Fallback="StepsDisplay"

#
ShowMeter=false
ZeroMeterString="?"
MeterX=56
MeterY=0
MeterOnCommand=shadowlength,1;textglowmode,'TextGlowMode_Inner'
MeterSetCommand=%function(self,param) \
	if param.CustomDifficulty then \
		self:diffuse(CustomDifficultyToColor(param.CustomDifficulty)); \
		self:shadowcolor(CustomDifficultyToDarkColor(param.CustomDifficulty)); \
	end; \
	if param.Meter then \
		if param.Meter >= 100 then \
			self:zoom(0.8); \
		else \
			self:zoom(1); \
		end; \
	end; \
end;
#
ShowDescription=true
DescriptionX=-20
DescriptionY=ThemePrefs.Get("AutoSetStyle") and -5 or 0
DescriptionOnCommand=shadowlength,1;uppercase,true;zoom,0.75;maxwidth,128+8
DescriptionSetCommand=%function(self,param) \
	if self:GetText() == "" then \
		self:settext("Edit"); \
	end; \
	if param.CustomDifficulty then \
		self:diffuse(CustomDifficultyToColor(param.CustomDifficulty)); \
		self:shadowcolor(CustomDifficultyToDarkColor(param.CustomDifficulty)); \
	end; \
	(cmd(finishtweening;diffusealpha,0;addx,-4;smooth,0.125;addx,4;diffusealpha,1))(self); \
end;
#
ShowAutogen=false
AutogenX=40
AutogenY=0
AutogenOnCommand=
AutogenSetCommand=%function(self,param) if param.Difficulty then self:diffuse(CustomDifficultyToLightColor(param.Difficulty)); self:strokecolor(CustomDifficultyToDarkColor(param.Difficulty)); end end
#
ShowStepsType=ThemePrefs.Get("AutoSetStyle")
StepsTypeX=-20
StepsTypeY=7
StepsTypeOnCommand=zoom,0.45

[ScreenOptions]
Fallback="ScreenWithMenuElements"
NavigationMode="normal"
InputMode="individual"
ForceAllPlayers=false
RepeatRate=12
RepeatDelay=0.25
NumRowsShown=6
ShowCreditDisplay=false

RowPositionTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) self:y((SCREEN_TOP+38*offsetFromCenter)+40) end
ShowExplanations=true

WrapValueInRow=false
OptionRowNormalMetricsGroup="OptionRow"
OptionRowExitMetricsGroup="OptionRowExit"
SeparateExitRow=true
SeparateExitRowY=SCREEN_BOTTOM-35

[ScreenOptionsMaster]

Fallback="ScreenOptions"

Class="ScreenOptionsMaster"

NoteSkinSortOrder="clover,groove,heart,diamond,pantsu"

SongMenu="5"

SongMenuDefault=""

SongMenu,1="name,Speed;screen,Speed"

SongMenu,2="name,NoteSkins;screen,NoteSkins"

SongMenu,3="name,ScreenFilter;screen,ScreenFilter"

SongMenu,4="name,Misc;screen,Misc"

SongMenu,5="name,ResetOptions"



Speed="12"
SpeedDefault="mod,2x"
Speed,1="mod,0.50x;name,0.50X"
Speed,2="mod,1x;name,1X"
Speed,3="mod,1.5x;name,1.5X"
Speed,4="mod,2x;name,2X"
Speed,5="mod,2.5x;name,2.5X"
Speed,6="mod,3x;name,3X"
Speed,7="mod,3.5x;name,3.5X"
Speed,8="mod,4x;name,4X"
Speed,9="mod,4.5x;name,4.5X"
Speed,10="mod,5x;name,5X"
Speed,11="mod,6x;name,6X"
Speed,12="mod,8x;name,8X"

Misc="5"

MiscDefault=""
Misc,1="name,Effects;screen,Effect"
Misc,2="name,Appearance;screen,Appearance"
Misc,3="name,Accel;screen,Accel"
Misc,4="name,Scroll;screen,Scroll"
Misc,5="name,Rate;screen,SongRate"


SongRate="5;together"
SongRateDefault="mod,1.0xmusic,no haste"
SongRate,1="mod,1.0xmusic,no haste;name,Mach 1.0"
SongRate,2="mod,1.1xmusic,no haste;name,Mach 1.1"
SongRate,3="mod,1.2xmusic,no haste;name,Mach 1.2"
SongRate,4="mod,1.5xmusic,no haste;name,Mach 1.5"
SongRate,5="mod,0.8xmusic,no haste;name,Mach 0.8"

Accel="4;selectmultiple"
AccelDe1ault="mod,no boost,no brake,no expand,no randomspeed"
Accel,1="mod,boost;name,Acceleration"
Accel,2="mod,brake;name,Deceleration"
Accel,3="mod,expand;name,Earthworm"
Accel,4="mod,randomspeed;name,Random Speed"

Effect="7;selectmultiple"
EffectDefault="mod,no drunk,no dizzy,no mini,no xmode,no tipsy,no beat"
Effect,1="mod,drunk;name,Drunk"
Effect,2="mod,dizzy;name,Dizzy"
Effect,3="mod,mini;name,Mini"
Effect,4="mod,-100% mini;name,Big"
Effect,5="mod,tipsy;name,Tipsy"
Effect,6="mod,beat;name,Beat"
Effect,7="mod,45% xmode;name,X Mode"

Appearance="3;selectmultiple"
AppearanceDefault="mod,no hidden,no sudden,no stealth"
Appearance,1="mod,hidden;name,Vanish"
Appearance,2="mod,sudden;name,Appear"
Appearance,3="mod,stealth;name,Non Step"


Turn="4"
TurnDefault="mod,no turn,no shuffle,no mirror,no supershuffle"
Turn,1="name,Off"
Turn,2="mod,mirror;name,Mirror"
Turn,3="mod,shuffle;name,Random"
Turn,4="mod,supershuffle;name,Super Random"


Scroll="4;selectmultiple"
ScrollDefault="mod,no reverse,no alternate,no cross,no centered"
Scroll,1="mod,reverse;name,Reverse"
Scroll,2="mod,alternate;name,Alternate"
Scroll,3="mod,cross;name,Cross"
Scroll,4="mod,centered;name,Centered"

Remove="6;selectmultiple"
RemoveDefault="mod,no nomines,no nomines,no nojumps,no nohands,no dark,no blind,no stealth,no little"
Remove,1="mod,nomines;name,No Mines"
Remove,2="mod,noholds;name,No Holds"
Remove,3="mod,nojumps;name,No Jumps"
Remove,4="mod,nohands;name,No Hands"
Remove,5="mod,dark;name,No Receptors"
Remove,6="mod,blind;name,No Judgement"

;ScreenFilter
# Define options here isn't necessary, the function in scripts take care of that (and the options themselves) -NeobeatIKK
ScreenFilter="5"
ScreenFilterDefault="mod,Off"
ScreenFilter,1="mod,0;name,Off"
ScreenFilter,2="mod,25;name,Dim"
ScreenFilter,3="mod,50;name,Dark"
ScreenFilter,4="mod,75;name,Very Dark"
ScreenFilter,5="mod,100;name,Black"

Persp="5"
PerspDefault="mod,overhead"
Persp,1="mod,incoming;name,Incoming"
Persp,2="mod,overhead;name,Overhead"
Persp,3="mod,space;name,Space"
Persp,4="mod,hallway;name,Hallway"
Persp,5="mod,distant;name,Distant"

[ScreenOptionsSimple]

[ScreenOptionsSimpleService]

[ScreenOptionsService]
ShowCreditDisplay=false
#PrevScreen=SetPrefBranch()

LineNames="SystemDirection,Profiles,GraphicSound,KeyConfig,TestInput,Sync,Reload"

LineSystemDirection="gamecommand;screen,ScreenOptionsSystemDirection;name,System Direction"
LineSync="gamecommand;screen,ScreenGameplaySyncMachine;name,Calibrate Machine Sync"
LineKeyConfig="gamecommand;screen,ScreenMapControllers;name,Key Joy Mappings"
LineTestInput="gamecommand;screen,ScreenTestInput;name,Test Input"
LineInput="gamecommand;screen,ScreenOptionsInput;name,Input Options"
LineReload="gamecommand;screen,ScreenReloadSongs;name,Reload Songs"
LineArcade="gamecommand;screen,ScreenOptionsArcade;name,Arcade Options"
LineAppearance="gamecommand;screen,ScreenAppearanceOptions;name,Appearance Options"
LineGraphicSound="gamecommand;screen,ScreenOptionsGraphicsSound;name,Graphics/Sound Options"
LineProfiles="gamecommand;screen,ScreenOptionsManageProfiles;name,Profiles"
LineAdvanced="gamecommand;screen,ScreenOptionsAdvanced;name,Advanced Options"
LineMoreOptions="gamecommand;screen,ScreenOptionsExtended;name,More Options"
LineCredits="gamecommand;screen,ScreenCredits;name,StepMania Credits"

ExplanationTogetherX=SCREEN_CENTER_X+170
ExplanationTogetherY=SCREEN_CENTER_Y+172
ExplanationTogetherOnCommand=zoom,0.5;shadowlength,0.8;wrapwidthpixels,300/0.665;cropright,1;decelerate,0.5;cropright,0
ExplanationTogetherOffCommand=stoptweening

SeparateExitRow=true
SeparateExitRowX=SCREEN_CENTER_X+200
SeparateExitRowY=SCREEN_TOP+320

[ScreenOptionsExtended]
ShowCreditDisplay=false
LineNames="2,Sync,3,10,11,4,12,5,Theme"

[ScreenOptionsServiceChild]

ShowCreditDisplay=false
OptionRowExitMetricsGroup="OptionRowServiceChildExit"

ExplanationTogetherX=SCREEN_CENTER_X
ExplanationTogetherY=SCREEN_BOTTOM-68
ExplanationTogetherOnCommand=zoom,0.5;shadowlength,0.8;wrapwidthpixels,300/0.665;cropright,1;decelerate,0.5;cropright,0
ExplanationTogetherOffCommand=stoptweening

SeparateExitRow=true
SeparateExitRowY=SCREEN_TOP+240

[ScreenOptionsServiceExtendedChild]

[ScreenMiniMenu]
ShowCreditDisplay=false
HeaderY=SCREEN_TOP
HeaderOnCommand=draworder,100;visible,false
LineHighlightOnCommand=cropleft,0.1;cropright,0.1;zoomx,1.3;fadeleft,0.25;faderight,0.25;diffusealpha,0.375
LineHighlightChangeCommand=
LineHighlightChangeToExitCommand=

[OptionRowMiniMenu]

Fallback="OptionRow"

TitleX=SCREEN_CENTER_X-200
TitleY=SCREEN_CENTER_Y+10
TitleOnCommand=horizalign,left;shadowlength,0;uppercase,true;zoom,0.6375;strokecolor,Color("Black");
ItemsLongRowP1X=SCREEN_CENTER_X-200

ItemsLongRowP2X=SCREEN_CENTER_X+200

ItemsLongRowSharedX=SCREEN_CENTER_X+200

ItemOnCommand=zoom,0.6375;
strokecolor,Color("Black");
ColorSelected=color("1,1,1,1")

ColorDisabled=color("0.5,0.5,0.5,0.5")


ColorNotSelected=color("0.35,0.55,0.75,0.9")


[ScreenMiniMenuContext]
ShowCreditDisplay=false
Fallback="ScreenMiniMenu"
NumRowsShown=12
RowPositionTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) self:y(24*(offsetFromCenter-(numItems-1)/2)) end
LineHighlightX=1500000000000
LineHighlightY=SCREEN_TOP+100000000

ShowHelp=false
OptionRowNormalMetricsGroup="OptionRowMiniMenuContext"

[OptionRowMiniMenuContext]
ShowCreditDisplay=false
Fallback="OptionRowMiniMenu"
TitleX=200
TitleY=-25
TitleOnCommand=horizalign,left;zoom,0.5;maxwidth,300;uppercase,true


[ScreenMapControllers]
LinesVisible=15

[ScreenTestInput]
Class="ScreenTestInput"
Fallback="ScreenOptionsServiceChild"
NextScreen="ScreenOptionsService"
PrevScreen="ScreenOptionsService"
ShowCreditDisplay=false

[ScreenOptionsSystemDirection]
Fallback="ScreenOptionsServiceChild"
PrevScreen="ScreenOptionsService"
NextScreen="ScreenOptionsService"
AllowOperatorMenuButton=false
LineNames="1,2,3,4,5,6,7,8"
Line1="conf,SongsPerPlay"
Line2="conf,LifeDifficulty"
Line3="conf,DefaultFailType"
Line4="conf,BGBrightness"
Line5="conf,InputDebounceTime"
Line6="conf,AxisFix"
Line7="lua,CoinMode()"
Line8="conf,EventMode"
ShowCreditDisplay=false


[ScreenOptionsGraphicsSound]
Fallback="ScreenOptionsServiceChild"
NextScreen="ScreenOptionsService"
PrevScreen="ScreenOptionsService"
AllowOperatorMenuButton=false
LineNames="1,2,3,4,5,6,7,8,11,12,13,14,20"
Line1="conf,Windowed"
Line2="conf,DisplayResolution"
Line3="conf,DisplayAspectRatio"
Line4="conf,DisplayColorDepth"
Line5="conf,HighResolutionTextures"
Line6="conf,MaxTextureResolution"
Line7="conf,TextureColorDepth"
Line8="conf,MovieColorDepth"
Line11="conf,DelayedTextureDelete"
Line12="conf,RefreshRate"
Line13="conf,Vsync"
Line14="conf,ShowStats"
Line20="conf,VisualDelaySeconds"
ShowCreditDisplay=false


[ScreenOptionsAdvanced]
Fallback="ScreenOptionsServiceChild"
NextScreen="ScreenOptionsService"
PrevScreen="ScreenOptionsService"
LineNames="2,4,5,6,8,HN,15,30,31,ECPT"
#LineScore="lua,UserPrefScoringMode()"
Line2="conf,ScoringType"
Line3="conf,TimingWindowScale"
Line4="conf,LifeDifficulty"
Line5="conf,ProgressiveLifebar"
Line6="conf,ProgressiveStageLifebar"
Line8="conf,DefaultFailType"
LineSI="lua,SpeedModIncSize()"
LineSM="lua,SpeedModIncLarge()"
LineHN="conf,MinTNSToHideNotes"
Line11="conf,AllowW1"
Line13="conf,HiddenSongs"
Line14="conf,EasterEggs"
Line15="conf,AllowExtraStage"
Line16="conf,UseUnlockSystem"
Line28="conf,AutogenSteps"
Line29="conf,AutogenGroupCourses"
Line30="conf,FastLoad"
Line31="conf,FastLoadAdditionalSongs"
Line32="conf,AllowSongDeletion"
LineECPT="conf,EditClearPromptThreshold"
ShowCreditDisplay=false

[ScreenAppearanceOptions]

[ScreenOptionsUI]

[ScreenOptionsInput]

[ScreenOptionsArcade]


[ScreenOptionsTheme]
Fallback="ScreenOptionsServiceChild"
NextScreen="ScreenOptionsService"
PrevScreen="ScreenOptionsService"
LineNames="gNotePos,gAuto,gScore,gSDisp,TimingDisplay,gOpts,gLongFail,gComboUnderField,FlashyCombo,GameplayFooter,FancyUIBG"
LinegNotePos="lua,ThemePrefRow('NotePosition')"
LinegScore="lua,ThemePrefRow('GameplayShowScore')"
LinegSDisp="lua,ThemePrefRow('GameplayShowStepsDisplay')"
LineTimingDisplay="lua,ThemePrefRow('TimingDisplay')"
LinegOpts="lua,ThemePrefRow('ShowLotsaOptions')"
LinegAuto="lua,ThemePrefRow('AutoSetStyle')"
LinegLongFail="lua,ThemePrefRow('LongFail')"
LinegComboUnderField="lua,ThemePrefRow('ComboUnderField')"
LineFlashyCombo="lua,ThemePrefRow('FlashyCombo')"
LineGameplayFooter="lua,ThemePrefRow('GameplayFooter')"
LineFancyUIBG="lua,ThemePrefRow('FancyUIBG')"
ShowCreditDisplay=false

[ScreenSelectGame]

[ScreenNetworkOptions]

[ScreenOptionsManageProfiles]
Class="ScreenOptionsManageProfiles"
Fallback="ScreenOptionsSimpleService"
PrevScreen="ScreenOptionsService"
NextScreen="ScreenOptionsService"
PrepareScreens="ScreenMiniMenuContext"
GroupedScreens="ScreenMiniMenuContext"
PersistScreens="ScreenMiniMenuContext"
SeparateExitRow=true
SeparateExitRowY=SCREEN_TOP+320
NumRowsShown=10
AllowOperatorMenuButton=false
ItemsStartX=SCREEN_CENTER_X-10
ItemsEndX=SCREEN_CENTER_X+140
ItemsGapX=1000
ItemX=SCREEN_CENTER_X-250
ItemOnCommand=y,SCREEN_TOP+50;shadowlength,0;zoom,0.5;
ItemGainFocusCommand=
ItemLoseFocusCommand=
ItemsLongRowP1X=SCREEN_CENTER_X-6000
ItemsLongRowP2X=SCREEN_CENTER_X+100
ItemsLongRowSharedX=SCREEN_CENTER_X

ExplanationTogetherX=SCREEN_CENTER_X+170
ExplanationTogetherY=SCREEN_CENTER_Y+172
ExplanationTogetherOnCommand=zoom,0.5;shadowlength,0.8;wrapwidthpixels,300/0.665;cropright,1;decelerate,0.5;cropright,0
ExplanationTogetherOffCommand=stoptweening

[ScreenOptionsEditProfile]
Class="ScreenOptionsEditProfile"
PageOnCommand=visible,false
AllowOperatorMenuButton=false
TitleX=SCREEN_CENTER_X
TitleY=
TitleOnCommand=shadowlength,0;uppercase,true;maxwidth,600;zoom,5
ShowCreditDisplay=false

[ScreenOptionsCustomizeProfile]
Class="ScreenWithMenuElements"
Fallback="ScreenWithMenuElements"
PrevScreen="ScreenOptionsManageProfiles"
NextScreen="ScreenOptionsManageProfiles"
AllowOperatorMenuButton=false
PlayMusic=true
ShowHeader=false
ShowFooter=false
ShowCreditDisplay=false
TimerSeconds=-1
TimerOnCommand=visible,false
ShowExplanations=true
ExplanationTogetherX=SCREEN_CENTER_X
ExplanationTogetherY=SCREEN_CENTER_Y
ExplanationTogetherOnCommand=zoom,0.5;shadowlength,0.8;wrapwidthpixels,300/0.665;cropright,1;decelerate,0.5;cropright,0
ExplanationTogetherOffCommand=stoptweening


[ScreenReloadSongs]
Class="ScreenReloadSongs"
Fallback="Screen"
NextScreen="ScreenInit"
TextOnCommand=visible,false

[ScreenPlayerOptions]
LineNames="1,8,14,2,3A,3B,4,5,6,R1,R2,7,9,10,11,12,13,SF,17,16"
LineSF="lua,OptionRowScreenFilter()"
Line17="lua,OptionRowProTiming()"
Line18="list,Characters"

PlayerNameplateP1X=SCREEN_CENTER_X * 0.5 + 16
PlayerNameplateP1Y=SCREEN_CENTER_Y - 176 
PlayerNameplateP1OnCommand=draworder,DrawOrder.Decorations;zoomy,0;addx,-SCREEN_CENTER_X;sleep,0.75;decelerate,0.25;addx,SCREEN_CENTER_X;zoomy,1
PlayerNameplateP1OffCommand=

PlayerNameplateP2X=SCREEN_CENTER_X * 1.5 - 16
PlayerNameplateP2Y=SCREEN_CENTER_Y - 176
PlayerNameplateP2OnCommand=draworder,DrawOrder.Decorations;zoomy,0;addx,SCREEN_CENTER_X;sleep,0.75;decelerate,0.25;addx,-SCREEN_CENTER_X;zoomy,1
PlayerNameplateP2OffCommand=

[ScreenPlayerOptionsRestricted]

#[ScreenSplash]
#Class="ScreenSplash"
#Fallback="ScreenWithMenuElementsBlank"
#MinimumScreenPrepareDelaySeconds=1
#AllowStartToSkip=true
#PrepareScreen=true
#HandleBackButton=false
#TimerSeconds=1
#AllowOperatorMenuButton=false
#NextScreen="ScreenInit"
#PrepareScreens="ScreenTitleMenu,ScreenTitleJoin"
#GroupedScreens="ScreenInit,ScreenTitleJoin,ScreenTitleMenu"
#PersistScreens="ScreenInit,ScreenTitleJoin,ScreenTitleMenu"

[ScreenExit]

[ScreenAttract]

#
#
#
#

[ScreenHighScores]
Fallback="ScreenWithMenuElements"

ResetGameState=false
AttractVolume=true

FOV=90

ScrollerItemsToDraw=9
ScrollerOnCommand=x,SCREEN_CENTER_X;y,SCREEN_CENTER_Y;SetMask,624,40;draworder,-5
ScrollerItemTransformFunction=function(self,offset,itemIndex,numItems) \
	self:y(46 * offset); \
end;

HelpOnCommand=visible,false

[ScreenRanking]
#

#

#

#

#

# 05 # B

# 05 # C
[ScreenGameplay]
MinSecondsToStep=0.5
MinSecondsToMusic=0.0
#
ShowEvaluationOnFail=false
ShowCreditDisplay=false
MemoryCardIcons=false
FailOnMissCombo=69
MusicFadeOutSeconds=5
#
SongMeterDisplayX=SCREEN_CENTER_X
SongMeterDisplayY=SCREEN_TOP+50
SongMeterDisplayOnCommand=draworder,50;zoom,0;y,SCREEN_TOP-24;sleep,1.5;decelerate,0.5;zoom,1;y,SCREEN_TOP+50
SongMeterDisplayOffCommand=
#
ShowSongTitle=not GAMESTATE:IsDemonstration();
SongTitleX=SCREEN_CENTER_X
SongTitleY=SCREEN_TOP+549078
SongTitleOnCommand=draworder,55;strokecolor,Color.Outline;shadowlength,1;basezoom,0.55;zoomy,0;sleep,1;smooth,0.5;zoom,1;
SongTitleOffCommand=
#
SongMeterDisplayP1X=Center1Player() and SCREEN_CENTER_X or SCREEN_LEFT+16
SongMeterDisplayP1Y=Center1Player() and SCREEN_TOP+60 or SCREEN_CENTER_Y-32
SongMeterDisplayP1OnCommand=draworder,5;rotationz,Center1Player() and 0 or -90;zoom,0;addx,-24;sleep,1.5;decelerate,0.5;zoom,1;addx,24;hide_if,(GAMESTATE:GetCurrentStyle():GetStyleType() == "StyleType_TwoPlayersSharedSides") and GAMESTATE:GetMasterPlayerNumber() ~= PLAYER_1
SongMeterDisplayP1OffCommand=
#
SongMeterDisplayP2X=Center1Player() and SCREEN_CENTER_X or SCREEN_RIGHT-16
SongMeterDisplayP2Y=Center1Player() and SCREEN_TOP+60 or SCREEN_CENTER_Y-32
SongMeterDisplayP2OnCommand=draworder,5;rotationz,Center1Player() and 0 or -90;zoom,0;addx,24;sleep,1.5;decelerate,0.5;zoom,1;addx,-24;hide_if,(GAMESTATE:GetCurrentStyle():GetStyleType() == "StyleType_TwoPlayersSharedSides") and GAMESTATE:GetMasterPlayerNumber() ~= PLAYER_2
SongMeterDisplayP2OffCommand=
#
ShowBPMDisplay=true
BPMDisplayX=Center1Player() and (GAMESTATE:GetMasterPlayerNumber() == PLAYER_1 and THEME:GetMetric(Var "LoadingScreen","PlayerP1OnePlayerOneSideX") or THEME:GetMetric(Var "LoadingScreen","PlayerP2OnePlayerOneSideX")) or SCREEN_CENTER_X
# BPMDisplayX=(PREFSMAN:GetPreference("Center1Player") and GAMESTATE:GetNumPlayersEnabled() == 1) and (GAMESTATE:GetMasterPlayerNumber() == PLAYER_1 and THEME:GetMetric(Var "LoadingScreen","PlayerP1OnePlayerOneSideX") or THEME:GetMetric(Var "LoadingScreen","PlayerP2OnePlayerOneSideX")) or SCREEN_CENTER_X
BPMDisplayY=SCREEN_BOTTOM-17
BPMDisplayOnCommand=draworder,101
BPMDisplayOffCommand=bounceend,0.25;zoom,0
#
ShowStageDisplay=true
StageDisplayX=SCREEN_CENTER_X
StageDisplayY=Center1Player() and SCREEN_BOTTOM-76 or SCREEN_BOTTOM-50
StageDisplayOnCommand=draworder,DrawOrder.Screen
StageDisplayOffCommand=bounceend,0.25;zoom,0
StageDisplayUseShortString=true
#
ShowScoreFrame=ThemePrefs.Get("GameplayFooter");
ScoreFrameX=SCREEN_CENTER_X
ScoreFrameY=SCREEN_BOTTOM+46787
ScoreFrameOnCommand=draworder,4;vertalign,bottom;zoomtowidth,SCREEN_WIDTH+4;diffuse,color("#ffd400");addy,80;sleep,2;decelerate,0.5;addy,-80;
ScoreFrameOffCommand=
#
LifeP1X=Center1Player() and SCREEN_CENTER_X or THEME:GetMetric(Var "LoadingScreen","PlayerP1OnePlayerOneSideX")
# LifeP1X=(GAMESTATE:GetCurrentStyle():GetStyleType() == 'StyleType_OnePlayerTwoSides' or (PREFSMAN:GetPreference("Center1Player") and GAMESTATE:GetNumPlayersEnabled() == 1)) and SCREEN_CENTER_X or THEME:GetMetric(Var "LoadingScreen","PlayerP1OnePlayerOneSideX")
LifeP1Y=SCREEN_TOP+101111111111111111111111111111

LifeP1OffCommand=
LifeP2X=Center1Player() and SCREEN_CENTER_X or THEME:GetMetric(Var "LoadingScreen","PlayerP2OnePlayerOneSideX")
LifeP2Y=SCREEN_TOP+101111111111111111111111111111
LifeP2OnCommand=
LifeP2OffCommand=
CombinedLifeX=SCREEN_CENTER_X
CombinedLifeY=SCREEN_TOP+24
CombinedLifeOnCommand=finishtweening;addy,-48;sleep,1.25;bounceend,0.35;addy,48;
CombinedLifeOffCommand=
#
ToastyDisplayP1X=Center1Player() and SCREEN_CENTER_X or THEME:GetMetric(Var "LoadingScreen","PlayerP1OnePlayerOneSideX")
# ToastyDisplayP1X=(GAMESTATE:GetCurrentStyle():GetStyleType() == 'StyleType_OnePlayerTwoSides' or (PREFSMAN:GetPreference("Center1Player") and GAMESTATE:GetNumPlayersEnabled() == 1)) and SCREEN_CENTER_X or THEME:GetMetric(Var "LoadingScreen","PlayerP1OnePlayerOneSideX")
ToastyDisplayP1Y=SCREEN_CENTER_Y
ToastyDisplayP1OnCommand=visible,false
ToastyDisplayP1OffCommand=
#
ToastyDisplayP2X=Center1Player() and SCREEN_CENTER_X or THEME:GetMetric(Var "LoadingScreen","PlayerP2OnePlayerOneSideX")
# ToastyDisplayP2X=(GAMESTATE:GetCurrentStyle():GetStyleType() == 'StyleType_OnePlayerTwoSides' or (PREFSMAN:GetPreference("Center1Player") and GAMESTATE:GetNumPlayersEnabled() == 1)) and SCREEN_CENTER_X or THEME:GetMetric(Var "LoadingScreen","PlayerP2OnePlayerOneSideX")
ToastyDisplayP2Y=SCREEN_CENTER_Y
ToastyDisplayP2OnCommand=visible,false
ToastyDisplayP2OffCommand=
#
SongNumberP1X=Center1Player() and SCREEN_CENTER_X - 60 or THEME:GetMetric(Var "LoadingScreen","PlayerP1OnePlayerOneSideX") - 60
SongNumberP1Y=SCREEN_TOP+24+7
SongNumberP1OnCommand=zoom,0.75;diffuse,PlayerColor(PLAYER_1);strokecolor,BoostColor(PlayerColor(PLAYER_1),0.5)
SongNumberP1OffCommand=
SongNumberP2X=Center1Player() and SCREEN_CENTER_X + 60 or THEME:GetMetric(Var "LoadingScreen","PlayerP2OnePlayerOneSideX") + 60
SongNumberP2Y=SCREEN_TOP+24+7
SongNumberP2OnCommand=zoom,0.75;diffuse,PlayerColor(PLAYER_2);strokecolor,BoostColor(PlayerColor(PLAYER_2),0.5)
SongNumberP2OffCommand=
#
RemainingTimeP1X=THEME:GetMetric(Var "LoadingScreen","PlayerP1OnePlayerOneSideX") + 32
RemainingTimeP1Y=THEME:GetMetric(Var "LoadingScreen","ScoreP1Y") - 20
RemainingTimeP1OnCommand=shadowlength,1;diffuse,PlayerColor(PLAYER_1);diffusebottomedge,ColorMidTone(PlayerColor(PLAYER_1));
RemainingTimeP1OffCommand=
RemainingTimeP2X=THEME:GetMetric(Var "LoadingScreen","PlayerP2OnePlayerOneSideX") + 32
RemainingTimeP2Y=THEME:GetMetric(Var "LoadingScreen","ScoreP2Y") - 20
RemainingTimeP2OnCommand=shadowlength,1;diffuse,PlayerColor(PLAYER_2);diffusebottomedge,ColorMidTone(PlayerColor(PLAYER_2));
RemainingTimeP2OffCommand=
#
DeltaSecondsP1X=THEME:GetMetric(Var "LoadingScreen","RemainingTimeP1X") - 80
DeltaSecondsP1Y=THEME:GetMetric(Var "LoadingScreen","RemainingTimeP1Y")
DeltaSecondsP1OnCommand=shadowlength,1;skewx,-0.125
DeltaSecondsP1GainSecondsCommand=finishtweening;diffusealpha,1;zoom,1;decelerate,0.3;zoom,0.75;sleep,0.5;linear,0.2;diffusealpha,0;zoom,0
DeltaSecondsP1OffCommand=
DeltaSecondsP2X=THEME:GetMetric(Var "LoadingScreen","RemainingTimeP2X") - 80
DeltaSecondsP2Y=THEME:GetMetric(Var "LoadingScreen","RemainingTimeP2Y")
DeltaSecondsP2OnCommand=shadowlength,1;skewx,-0.125
DeltaSecondsP2GainSecondsCommand=finishtweening;diffusealpha,1;zoom,1;decelerate,0.3;zoom,0.75;sleep,0.5;linear,0.2;diffusealpha,0;zoom,0
DeltaSecondsP2OffCommand=
#
ScoreP1X=SCREEN_CENTER_X+89439848942
# ScoreP1X=(PREFSMAN:GetPreference("Center1Player") and GAMESTATE:GetNumPlayersEnabled() == 1) and SCREEN_CENTER_X or THEME:GetMetric(Var "LoadingScreen","PlayerP1OnePlayerOneSideX")
ScoreP1Y=SCREEN_BOTTOM-4876
ScoreP1OnCommand=draworder,101;visible,(GAMESTATE:GetCurrentCourse() == nil or GAMESTATE:GetCurrentCourse():GetCourseType() ~= "CourseType_Survival") and ThemePrefs.Get("GameplayShowScore");diffuse,PlayerColor(PLAYER_1);sleep,3+0.3;smooth,0.5;y,SCREEN_BOTTOM-48;hide_if,(GAMESTATE:GetCurrentStyle():GetStyleType() == "StyleType_TwoPlayersSharedSides") and GAMESTATE:GetMasterPlayerNumber() ~= PLAYER_1
ScoreP1OffCommand=
ScoreP2X=SCREEN_CENTER_X+89439848942
# ScoreP2X=(PREFSMAN:GetPreference("Center1Player") and GAMESTATE:GetNumPlayersEnabled() == 1) and SCREEN_CENTER_X or THEME:GetMetric(Var "LoadingScreen","PlayerP2OnePlayerOneSideX")
ScoreP2Y=SCREEN_BOTTOM-4867
ScoreP2OnCommand=draworder,101;visible,(GAMESTATE:GetCurrentCourse() == nil or GAMESTATE:GetCurrentCourse():GetCourseType() ~= "CourseType_Survival") and ThemePrefs.Get("GameplayShowScore");diffuse,PlayerColor(PLAYER_2);sleep,3+0.3;smooth,0.5;y,SCREEN_BOTTOM-48;hide_if,(GAMESTATE:GetCurrentStyle():GetStyleType() == "StyleType_TwoPlayersSharedSides") and GAMESTATE:GetMasterPlayerNumber() ~= PLAYER_2
ScoreP2OffCommand=
#
StepsDescriptionP1X=SCREEN_CENTER_X+89439848942
# StepsDescriptionP1X=(PREFSMAN:GetPreference("Center1Player") and GAMESTATE:GetNumPlayersEnabled() == 1) and SCREEN_CENTER_X or THEME:GetMetric(Var "LoadingScreen","PlayerP1OnePlayerOneSideX")
StepsDescriptionP1Y=SCREEN_CENTER_Y+343445
StepsDescriptionP1OnCommand=visible,false
StepsDescriptionP1OffCommand=
StepsDescriptionP2X=SCREEN_CENTER_X+585547675
# StepsDescriptionP2X=(PREFSMAN:GetPreference("Center1Player") and GAMESTATE:GetNumPlayersEnabled() == 1) and SCREEN_CENTER_X or THEME:GetMetric(Var "LoadingScreen","PlayerP2OnePlayerOneSideX")
StepsDescriptionP2Y=SCREEN_CENTER_Y+343443
StepsDescriptionP2OnCommand=visible,false
StepsDescriptionP2OffCommand=
#
PlayerOptionsP1X=SCREEN_CENTER_X+58554365634364
# PlayerOptionsP1X=(PREFSMAN:GetPreference("Center1Player") and GAMESTATE:GetNumPlayersEnabled() == 1) and SCREEN_CENTER_X or THEME:GetMetric(Var "LoadingScreen","PlayerP1OnePlayerOneSideX")
PlayerOptionsP1Y=SCREEN_CENTER_Y+8234545
PlayerOptionsP1OnCommand=visible,false
PlayerOptionsP1OffCommand=
PlayerOptionsP2X=SCREEN_CENTER_X+585543646434
# PlayerOptionsP2X=(PREFSMAN:GetPreference("Center1Player") and GAMESTATE:GetNumPlayersEnabled() == 1) and SCREEN_CENTER_X or THEME:GetMetric(Var "LoadingScreen","PlayerP2OnePlayerOneSideX")
PlayerOptionsP2Y=SCREEN_CENTER_Y+825334
PlayerOptionsP2OnCommand=visible,false
PlayerOptionsP2OffCommand=
#
StepsDisplayP1X=SCREEN_CENTER_X+585544563634643
# StepsDisplayP1X=(PREFSMAN:GetPreference("Center1Player") and GAMESTATE:GetNumPlayersEnabled() == 1) and SCREEN_CENTER_X or THEME:GetMetric(Var "LoadingScreen","PlayerP1OnePlayerOneSideX")
StepsDisplayP1Y=SCREEN_CENTER_Y+58554
StepsDisplayP1OnCommand=visible,false
StepsDisplayP1ShowCommand=visible,false
StepsDisplayP1HideCommand=visible,false
StepsDisplayP1OffCommand=
StepsDisplayP2X=Center1Player() and SCREEN_CENTER_X or THEME:GetMetric(Var "LoadingScreen","PlayerP2OnePlayerOneSideX")
# StepsDisplayP2X=(PREFSMAN:GetPreference("Center1Player") and GAMESTATE:GetNumPlayersEnabled() == 1) and SCREEN_CENTER_X or THEME:GetMetric(Var "LoadingScreen","PlayerP2OnePlayerOneSideX")
StepsDisplayP2Y=SCREEN_CENTER_Y+585499898998
StepsDisplayP2OnCommand=visible,false
StepsDisplayP2ShowCommand=visible,false
StepsDisplayP2HideCommand=visible,false
StepsDisplayP2OffCommand=
#
SongOptionsX=Center1Player() and (GAMESTATE:GetMasterPlayerNumber() == PLAYER_1 and THEME:GetMetric(Var "LoadingScreen","PlayerP1OnePlayerOneSideX") or THEME:GetMetric(Var "LoadingScreen","PlayerP2OnePlayerOneSideX")) or SCREEN_CENTER_X
# SongOptionsX=(PREFSMAN:GetPreference("Center1Player") and GAMESTATE:GetNumPlayersEnabled() == 1) and (GAMESTATE:GetMasterPlayerNumber() == PLAYER_1 and THEME:GetMetric(Var "LoadingScreen","PlayerP1OnePlayerOneSideX") or THEME:GetMetric(Var "LoadingScreen","PlayerP2OnePlayerOneSideX")) or SCREEN_CENTER_X
SongOptionsY=SCREEN_BOTTOM-32345
SongOptionsOnCommand=visible,false
SongOptionsOffCommand=
#
LyricDisplaySetNoReverseCommand=x,SCREEN_CENTER_X;y,SCREEN_CENTER_Y+160
LyricDisplaySetReverseCommand=x,SCREEN_CENTER_X;y,SCREEN_CENTER_Y-140
# This is used if one player is in reverse and the other isn't.
LyricDisplaySetOneReverseCommand=x,SCREEN_CENTER_X;y,SCREEN_CENTER_Y-160;
LyricDisplayDefaultColor=Color("White")
#
OniGameOverP1X=
OniGameOverP1Y=
OniGameOverP1OnCommand=
OniGameOverP1OffCommand=
#
OniGameOverP2X=
OniGameOverP2Y=
OniGameOverP2OnCommand=
OniGameOverP2OffCommand=
#
SurviveTimeX=SCREEN_CENTER_X
SurviveTimeY=SCREEN_CENTER_Y+40
SurviveTimeOnCommand=shadowlength,1;zoomx,0;bounceend,1;zoomx,1
SurviveTimeOffCommand=shadowlength,1;linear,1;zoom,0.75;diffusealpha,0
#
ActiveAttackListP1X=THEME:GetMetric(Var "LoadingScreen","PlayerP1OnePlayerOneSideX")
ActiveAttackListP1Y=
ActiveAttackListP1OnCommand=visible,false
ActiveAttackListP1OffCommand=
ActiveAttackListP2X=THEME:GetMetric(Var "LoadingScreen","PlayerP1OnePlayerOneSideX")
ActiveAttackListP2Y=
ActiveAttackListP2OnCommand=visible,false
ActiveAttackListP2OffCommand=
#
# Disable the normal start and select button actions to enable a custom pause
# menu
DebugOnCommand=visible,false
StartGivesUp=false
UnpauseWithStart=false
SelectSkipsSong=false
StopCourseEarly=check_stop_course_early()
PlayerP1OnePlayerOneSideX=SCREEN_CENTER_X-160
PlayerP2OnePlayerOneSideX=SCREEN_CENTER_X+160
PlayerP1TwoPlayersTwoSidesX=SCREEN_CENTER_X-160
PlayerP2TwoPlayersTwoSidesX=SCREEN_CENTER_X+160


[ScreenGameplayShared]

[ScreenHeartEntry]
HeartEntryEnabled=true
ShowHeader=true
ShowFooter=true

[ScreenEvaluation]
Class="ScreenEvaluation"
Fallback="ScreenWithMenuElements"
#
LightsMode="LightsMode_MenuStartOnly"
#
Summary=false
CheckpointsWithJudgments=false
#
TimerSeconds=9999999999999999999999999999
#
PlayerOptionsSeparator=", "
PlayerOptionsHideFailType=true
MaxComboNumDigits=4
#
PlayerOptionsP1X=SCREEN_LEFT+16
PlayerOptionsP1Y=SCREEN_BOTTOM-70
PlayerOptionsP1OnCommand=visible,false
PlayerOptionsP1OffCommand=
##
PlayerOptionsP2X=SCREEN_RIGHT-16
PlayerOptionsP2Y=SCREEN_BOTTOM-70
PlayerOptionsP2OnCommand=visible,false
PlayerOptionsP2OffCommand=

SongOptionsX=SCREEN_CENTER_X
SongOptionsY=SCREEN_BOTTOM-44
SongOptionsOnCommand=visible,true;zoom,0.425;shadowlength,1;;
SongOptionsOffCommand=
ShowCreditDisplay=false

[ScreenEvaluationNormal]

Fallback="ScreenEvaluation"
ShowCreditDisplay=false


PlayMusic=true
AllowDisabledPlayerInput=false

TimerSeconds=123456789876543210
TimerOnCommand=visible,false;draworder,102;
TimerX=SCREEN_CENTER_X+160
TimerY=SCREEN_TOP+25


[ScreenNameEntry]

[ScreenNameEntryTraditional]
PrevScreen="ScreenGameOver"
NextScreen="ScreenGameOver"
HeaderOnCommand=visible,false
FooterOnCommand=visible,false
ForceTimer=false
ShowCreditDisplay=false

[ScreenContinue]
ShowHeader=false
ShowFooter=false
ShowCreditDisplay=false
ContinueEnabled=true
#
TimerSeconds=24.5
TimerMetricsGroup="MenuTimerContinue"
TimerX=SCREEN_CENTER_X
TimerY=SCREEN_CENTER_Y+24
TimerOnCommand=zoomx,0.25;zoomy,0;sleep,4;linear,0.1;zoomy,0.25
TimerOffCommand=

[ScreenProfileSave]
ForceTimer=true
TimerSeconds=10
ShowCreditDisplay=false

[ScreenProfileSaveSummary]
ForceTimer=true
TimerSeconds=10
ShowCreditDisplay=false

[ScreenGameOver]
TimerOnCommand=visible,false

[ScreenPrompt]
Class="ScreenPrompt"
Fallback="ScreenWithMenuElementsBlank"
PrevScreen="ScreenEdit"
TimerSeconds=-1

QuestionX=SCREEN_CENTER_X+170
QuestionY=SCREEN_CENTER_Y+60
QuestionOnCommand=zoom,0.5;wrapwidthpixels,300
QuestionOffCommand=linear,0.25;zoomy,0
#
CursorOnCommand=zoom,0.45
CursorOffCommand=linear,0.25;zoomy,0
#
Answer1Of1X=SCREEN_CENTER_X+170
Answer1Of1Y=SCREEN_CENTER_Y+120
Answer1Of1OnCommand=zoom,0.45;maxwidth,100
Answer1Of1OffCommand=linear,0.25;zoomy,0
##
Answer1Of2X=SCREEN_CENTER_X+140
Answer1Of2Y=SCREEN_CENTER_Y+120
Answer1Of2OnCommand=zoom,0.45;maxwidth,100
Answer1Of2OffCommand=linear,0.25;zoomy,0
#
Answer2Of2X=SCREEN_CENTER_X+200
Answer2Of2Y=SCREEN_CENTER_Y+120
Answer2Of2OnCommand=zoom,0.45;maxwidth,100
Answer2Of2OffCommand=linear,0.25;zoomy,0
###
Answer1Of3X=SCREEN_CENTER_X-170
Answer1Of3Y=SCREEN_CENTER_Y+120
Answer1Of3OnCommand=zoom,0.35;maxwidth,100
Answer1Of3OffCommand=linear,0.25;zoomy,0
#
Answer2Of3X=SCREEN_CENTER_X-20
Answer2Of3Y=SCREEN_CENTER_Y+120
Answer2Of3OnCommand=zoom,0.35;maxwidth,100
Answer2Of3OffCommand=linear,0.25;zoomy,0
#
Answer3Of3X=SCREEN_CENTER_X+150
Answer3Of3Y=SCREEN_CENTER_Y+120
Answer3Of3OnCommand=zoom,0.35;maxwidth,100
Answer3Of3OffCommand=linear,0.25;zoomy,0

[ScreenOptionsEdit]

[EditMenu]

[TextBannerEditMode]

[ScreenEditMenu]

[ScreenEdit]

[ScreenPracticeMenu]

[PracticeMenu]

[ScreenPractice]

[ScreenEditOptions]
LineNames="1,2,3,4,5,6,R1,R2,7,8,9,10,Attacks,11,12,13,14,15,16,SF,lead_in,ECPT"
Line1="lua,ArbitrarySpeedMods()"
LineSF="lua,OptionRowScreenFilter()"

[StepsDisplayEdit]
Fallback="StepsDisplayGameplay"

[ScreenMiniMenuEditHelp]

[OptionRowMiniMenuEditHelp]

[ScreenMiniMenuMainMenu]

[ScreenMiniMenuAreaMenu]

[ScreenMiniMenuStepsInformation]

[ScreenMiniMenuSongInformation]

[ScreenMiniMenuTimingDataInformation]

[ScreenMiniMenuBackgroundChange]

[ScreenMiniMenuPreferences]

[ScreenMiniMenuInsertTapAttack]

[ScreenMiniMenuInsertCourseAttack]

[ScreenMiniMenuCourseDisplay]

[ScreenMiniMenuCourseOptions]

[ScreenOptionsExportPackage]

[ScreenOptionsManage]

[OptionRowManage]

[OptionRowCourseOverview]

[ScreenOptionsManageCourses]

[OptionRowCourse]

[ScreenOptionsEditCourse]

[OptionRowEditCourse]

[ScreenOptionsCourseOverview]

[ScreenGameplaySyncMachine]
SongMeterDisplayP1OnCommand=visible,false
SongMeterDisplayP2OnCommand=visible,false
StepsDescriptionP1OnCommand=visible,false
StepsDescriptionP2OnCommand=visible,false
StepsDisplayP1OnCommand=visible,false
StepsDisplayP2OnCommand=visible,false
PlayerOptionsP1OnCommand=visible,false
PlayerOptionsP2OnCommand=visible,false

[PlayerSyncMachine]

[ScreenHowToInstallSongs]
Class="ScreenSelectMaster"
Fallback="ScreenSelectMaster"
ShowHeader=false

ShowScroller=true
PerChoiceScrollElement=false
#
ShowIcon=true
UseIconMetrics=false
PerChoiceIconElement=false
#
ScrollerX=SCREEN_LEFT+32
ScrollerY=SCREEN_CENTER_Y
ScrollerTransform=function(self,offset,itemIndex,numItems) self:y(24*(itemIndex-(numItems-1)/2)); end
ScrollerNumItemsToDraw=20
ScrollerOffCommand=bouncebegin,0.25;addx,-SCREEN_CENTER_X

ChoiceNames="WhereToFind,HowToInstall,AdditionalFolders,ReloadSongs,Exit"
ChoiceWhereToFind="urlnoexit,http://code.google.com/p/sm-ssc/wiki/FindingContent;text,"..Screen.String("Finding Songs")
ChoiceHowToInstall="urlnoexit,http://code.google.com/p/sm-ssc/wiki/InstallingContent;text,"..Screen.String("Installing Songs")
ChoiceAdditionalFolders="text,"..Screen.String("Importing Songs")
ChoiceReloadSongs="screen,ScreenReloadSongs;text,"..Screen.String("Reload Songs")
ChoiceExit="screen,"..Branch.TitleMenu()..";text,"..Screen.String("Exit")
DefaultChoice="WhereToFind"

OptionOrderUp="5:4,4:3,3:2,2:1,1:5"
OptionOrderDown="1:2,2:3,3:4,4:5,5:1"

[ScreenSMOnlineLogin]

[ScreenNetSelectBase]

[ScreenStageInformation]
PrevScreen="ScreenSelectMusic"
NextScreen="ScreenGameplay"
ShowCreditDisplay=false


[ScreenNetSelectMusic]
BPMDisplayX=SCREEN_CENTER_X-160-90+2
BPMDisplayY=SCREEN_CENTER_Y+156
BPMDisplayOnCommand=finishtweening;horizalign,left;strokecolor,Color("Outline");maxwidth,128;addx,320;zoomx,0;decelerate,0.35;addx,-320;zoomx,1
BPMDisplayOffCommand=bouncebegin,0.15;zoomx,0;

StepsDisplayP1X=SCREEN_CENTER_X-240
StepsDisplayP1Y=SCREEN_CENTER_Y+185
StepsDisplayP1OnCommand=horizalign,right;zoomx,0.0;zoomy,0.0;linear,0.5;zoomy,1.0;zoomx,1.0
StepsDisplayP1OffCommand=linear,0.5;zoomx,0.0;zoomy,0.0
#--#
StepsDisplayP2X=SCREEN_CENTER_X-110
StepsDisplayP2Y=SCREEN_CENTER_Y+185
StepsDisplayP2OnCommand=horizalign,right;zoomx,0.0;zoomy,0.0;linear,0.5;zoomy,1.0;zoomx,1.0
StepsDisplayP2OffCommand=linear,0.5;zoomx,0.0;zoomy,0.0
#====#

SampleMusicDelay=2
SampleMusicLoops=false

ShowBPMDisplay=true
BPMDisplayX=SCREEN_CENTER_X+2
BPMDisplayY=SCREEN_CENTER_Y+188
BPMDisplayOnCommand=finishtweening;maxwidth,128;horizalign,left;strokecolor,Color("Outline");addx,320;zoomx,0;decelerate,0.35;addx,-320;zoomx,1
BPMDisplayOffCommand=bouncebegin,0.15;zoomx,0;
#--#
ShowBPMLabel=true
BPMLabelX=SCREEN_CENTER_X
BPMLabelY=SCREEN_CENTER_Y+188
BPMLabelOnCommand=addx,-SCREEN_CENTER_X;decelerate,0.35;addx,SCREEN_CENTER_X
BPMLabelOffCommand=bouncebegin,0.15;zoomx,0;

UsersX=SCREEN_CENTER_X-272
UsersY=SCREEN_CENTER_Y-172
UsersDX=40
UsersAY=16
UsersOnCommand=draworder,2;zoom,0.75;shadowlength,1
#
ShowDifficultyDisplay=true
DifficultyDisplayX=SCREEN_CENTER_X
DifficultyDisplayY=SCREEN_CENTER_Y+158
DifficultyDisplayOnCommand=draworder,105;fov,90;zoom,0.75
DifficultyDisplayOffCommand=linear,0.25;zoomy,0;

[StepsDisplayNet]

[ScreenNetRoom]

[RoomWheel]

[RoomWheelItem]

[RoomInfoDisplay]

[ScreenSMOnlineSelectMusic]

[ModIcon]

[ModIconSelectMusic]

[ModIconRow]

[ModIconRowSelectMusic]

[GraphDisplay]

[ComboGraph]

[ScreenNetEvaluation]
UserTier02OrBetterCommand=diffuseshift;effectperiod,0.75;effectcolor1,color("1,0.95,0.8,1");effectcolor2,color("0.8,0.95,1,1")

# Arcade

[ScreenLogo]
TimerSeconds=30
NextScreen="ScreenHowToPlay"
ShowCreditDisplay=false
#

[ScreenHowToPlay]
Class="ScreenHowToPlay"
Fallback="ScreenAttract"
PrevScreen="ScreenDemonstration"
NextScreen="ScreenDemonstration"
StartScreen=Branch.TitleMenu()
TimerSeconds=35
TimerStealth=true
SecondsToShow=35
ForceTimer=true
ResetGameState=false
PlayMusic=true
#
UseLifeMeterBar=false
LifeMeterBarX=SCREEN_CENTER_X+160000000000
LifeMeterBarY=SCREEN_TOP+40
LifeMeterBarOnCommand=diffusealpha,0
#
UseCharacter=false
CharacterName=""
CharacterX=SCREEN_CENTER_X-200000000000
CharacterY=SCREEN_CENTER_Y+160
CharacterOnCommand=diffusealpha,0
#
UsePad=false
PadX=SCREEN_CENTER_X-28000000000
PadY=SCREEN_CENTER_Y+70
PadOnCommand=diffusealpha,0
#
UsePlayer=true
PlayerX=SCREEN_CENTER_X+150
PlayerY=SCREEN_CENTER_Y
PlayerOnCommand=
#
SongBPM=101
NumW2s=400
NumMisses=0

ShowCreditDisplay=false

[ScreenTitleJoin]
AllowOperatorMenuButton=true
HandleBackButton=true
Fallback="ScreenTitleMenu"
PrevScreen="ScreenInit"
NextScreen="ScreenSelectProfile"
ShowHelp=false
HelpText=Screen.String("HelpTextTitleJoin")
HelpY=SCREEN_CENTER_Y+100
HelpOnCommand=visible,false;zoom,1;strokecolor,color("0.125,0.125,0.125,0.5");queuecommand,"Refresh"
HelpCoinIsertedMessageCommand=playcommand,"Refresh"
HelpCoinModeChangedMessageCommand=playcommand,"Refresh"
HelpRefreshCommand=%function(self) \
	local bCanPlay = GAMESTATE:EnoughCreditsToJoin(); \
	local bReady = GAMESTATE:GetNumSidesJoined() > 0; \
	if bCanPlay or bReady then \
		self:SetTipsColonSeperated(THEME:GetString( Var "LoadingScreen","HelpTextPlay")); \
	else \
		self:SetTipsColonSeperated(THEME:GetString( Var "LoadingScreen","HelpTextWait")); \
	end \
end;
#
LogoX=SCREEN_CENTER_X
LogoY=SCREEN_CENTER_Y-28
LogoOnCommand=bob;effectperiod,4;effectmagnitude,0,5.25,0;zoom,0;bounceend,0.35;zoom,0.75
LogoOffCommand=stopeffect;bouncebegin,0.35;rotationz,360;zoom,0

VersionInfoX=SCREEN_CENTER_X+110
VersionInfoY=SCREEN_CENTER_Y+4
VersionInfoOnCommand=horizalign,right;vertalign,bottom;bob;effectperiod,4;effectmagnitude,0,5.25,0;zoom,0;bounceend,0.35;zoom,1;shadowlength,1;shadowcolor,color("0.2,0.2,0.2,0.925");
ScrollerOnCommand=visible,false;
ArcadeOverlay.TextY=SCREEN_BOTTOM-128
ShowCreditDisplay=false

[ScreenDemonstration]
SongMeterDisplayOnCommand=visible,false
SongMeterDisplayP1OnCommand=visible,false
SongMeterDisplayP2OnCommand=visible,false
LifeP1OnCommand=visible,false
LifeP2OnCommand=visible,false
ScoreP1OnCommand=visible,false
ScoreP2OnCommand=visible,false
StepsDisplayP1OnCommand=zoomy,0;linear,0.3;zoomy,1;sleep,3;smooth,0.5;y,SCREEN_BOTTOM-20;zoomy,0
StepsDisplayP2OnCommand=zoomy,0;linear,0.3;zoomy,1;sleep,3;smooth,0.5;y,SCREEN_BOTTOM-20;zoomy,0
ShowBPMDisplay=false
PrevScreen="ScreenHowToPlay"
NextScreen="ScreenInit"
ShowCreditDisplay=false

[ScreenJukeboxMenu]

[ScreenJukebox]

[ScreenCredits]

[TimingData]
GetReturnsNumbers=true
